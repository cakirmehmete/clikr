(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{163:function(e,t,a){e.exports=a.p+"static/media/clikrlogo2.f8a6c63b.png"},168:function(e,t,a){e.exports=a.p+"static/media/clikrlogo.6c47d62c.png"},291:function(e,t,a){e.exports=a.p+"static/media/background.d8b36ae3.jpeg"},5498:function(e,t,a){e.exports=a(5878)},5715:function(e,t){},5875:function(e,t,a){},5878:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(43),r=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,l=a(5),c=a(6),u=a(8),d=a(7),p=a(9),h=a(5883),m=a(5884),f=a(5880),b=a(20),g=a(4),y=a(11),v=a(288),E=a.n(v),w=a(289),S=a.n(w),_=a(48),O=a.n(_),C=a(58),j=a.n(C),k=a(282),I=a.n(k),q=a(5879),x=a(164),Q=a.n(x),L=a(1),N=a.n(L),D=a(52),T=a.n(D),A=a(163),P=a.n(A),V=a(10),F=a.n(V),M=a(34),W=a.n(M),R=a(89),B=a.n(R),U=a(90),z=a.n(U),Y=a(59),G=a.n(Y),H=a(21),$=a.n(H),Z=Object(g.b)("profStore")(o=Object(g.c)(o=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={open:null,selectedCourse:0,selectedLecture:0},a.styles=e.classes,a.profStore=e.profStore,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){if(void 0!==this.props.location.pathname&&""!==this.props.location.pathname.length){var e=this.props.location.pathname.split("/");"questions"===e[3]&&this.setState({selectedLecture:e[2],open:this.profStore.getLectureWithId(e[2]).course_id,selectedCourse:this.profStore.getLectureWithId(e[2]).course_id}),"lectures"===e[3]&&this.setState({selectedLecture:0,selectedCourse:e[2]})}}},{key:"componentDidUpdate",value:function(){if(void 0!==this.props.location.pathname&&""!==this.props.location.pathname.length){var e=this.props.location.pathname.split("/");"questions"===e[3]&&this.state.selectedLecture!==e[2]&&this.setState({selectedLecture:e[2],open:this.profStore.getLectureWithId(e[2]).course_id,selectedCourse:this.profStore.getLectureWithId(e[2]).course_id}),"lectures"===e[3]&&this.state.selectedCourse!==e[2]&&this.setState({selectedLecture:0,selectedCourse:e[2]}),2===e.length&&(0===this.state.selectedLecture&&0===this.state.selectedCourse||this.setState({selectedLecture:0,selectedCourse:0}))}}},{key:"handleCourseClick",value:function(e){this.props.history.push("/professor/"+e+"/lectures")}},{key:"handleLectureClick",value:function(e){this.props.history.push("/professor/"+e+"/questions")}},{key:"handleExpand",value:function(e){var t=this.state.open;t=t===e?null:e,this.setState({open:t})}},{key:"render",value:function(){var e=this,t=this.profStore.courses.filter(function(e){return e.is_current});return s.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},s.a.createElement(I.a,{className:this.styles.drawer,variant:"permanent",classes:{paper:this.styles.drawerPaper},anchor:"left"},s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"center"},s.a.createElement("img",{src:P.a,alt:"logo",height:80}))),s.a.createElement(N.a,{item:!0},s.a.createElement(Q.a,null)),s.a.createElement(N.a,{item:!0},s.a.createElement(O.a,null,t.map(function(t,a){var n=e.profStore.getCourseLectures(t.id);return s.a.createElement("div",{key:"div"+a},s.a.createElement(T.a,{className:e.styles.hover,button:!0,key:a,onClick:function(){return e.handleCourseClick(t.id)},selected:e.state.selectedCourse===t.id},s.a.createElement(j.a,{disableTypography:!0,primary:s.a.createElement(F.a,{type:"body2",className:e.styles.listtext},t.title),secondary:s.a.createElement(F.a,{type:"body2",className:e.styles.listsubtext},t.term," ",t.year)}),s.a.createElement(G.a,null,s.a.createElement($.a,{color:"primary",disabled:0===n.length,onClick:function(){return e.handleExpand(t.id)}},n.length>0&&e.state.open===t.id?s.a.createElement(B.a,null):s.a.createElement(z.a,null)))),s.a.createElement(W.a,{in:e.state.open===t.id,timeout:"auto",unmountOnExit:!0},s.a.createElement(O.a,{component:"div",disablePadding:!0},n.map(function(a,n){return s.a.createElement(T.a,{button:!0,key:t.id+"_lecture_"+n,onClick:function(){return e.handleLectureClick(a.id)},selected:e.state.selectedLecture===a.id},s.a.createElement(j.a,{disableTypography:!0,primary:s.a.createElement(F.a,{type:"body2",className:e.styles.nestedListtext}," ",a.title," ")}))}))))})))))}}]),t}(s.a.Component))||o)||o,J=Object(q.a)(Object(y.withStyles)(function(e){return{drawer:{width:240,flexShrink:0},listtext:{color:e.palette.primary.main},listsubtext:{color:e.palette.primary.dark},titletext:{color:e.palette.primary.main,paddingTop:2*e.spacing.unit},nestedListtext:{color:e.palette.primary.main,paddingLeft:2*e.spacing.unit},drawerPaper:{width:240,backgroundColor:e.palette.secondary.main},hover:{"&:hover":{backgroundColor:e.palette.secondary.dark}},toolbar:e.mixins.toolbar}})(Z)),K=a(114),X=a.n(K),ee=a(92),te=a.n(ee),ae=a(67),ne=a.n(ae),se=a(5882),ie=a(284),re=a.n(ie),oe=a(50),le=a.n(oe),ce=a(64),ue=a.n(ce),de=a(95),pe=a(26),he=a.n(pe),me=window.location.href.split("/"),fe=me[0]+"//"+me[2]+"/",be=fe+"api/v1/";function ge(){return he.a.get(be+"student/courses")}function ye(e){return he.a.post(be+"student/courses",{enroll_code:e})}function ve(e,t){return he.a.post(be+"student/questions/"+t,{answer:e})}he.a.defaults.withCredentials=!0;var Ee,we,Se,_e=function(){function e(t){Object(l.a)(this,e),this.professorStore=t}return Object(c.a)(e,[{key:"getName",value:function(){var e=Object(de.a)(ue.a.mark(function e(){var t=this;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he.a.get(be+"professor/name").then(function(e){return e.data.name}).catch(function(e){return console.log(e),t._checkAuth(e),[]}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"archiveCourse",value:function(e){var t=this;return function(e){return he.a.post(be+"professor/courses/"+e+"/archive")}(e).then(function(e){return t.professorStore.updateCourseData(e.data.id,e.data.course),e.data.message}).catch(function(e){return console.log(e),t._checkAuth(e),[]})}},{key:"duplicateCourse",value:function(e,t,a){var n=this;return function(e,t,a){return he.a.post(be+"professor/courses/"+e+"/duplicate",{year:t,term:a})}(e,t,a).then(function(e){return e.data}).catch(function(e){return console.log(e),n._checkAuth(e),[]})}},{key:"exportGradesLecture",value:function(e){var t=this;return function(e){return he.a.get(be+"professor/lectures/"+e+"/exportgrades")}(e).then(function(e){return e.data}).catch(function(e){return console.log(e),t._checkAuth(e),[]})}},{key:"exportGradesCourse",value:function(e){var t=this;return function(e){return he.a.get(be+"professor/courses/"+e+"/exportgrades")}(e).then(function(e){return e.data}).catch(function(e){return console.log(e),t._checkAuth(e),[]})}},{key:"loadData",value:function(){var e=this;return this.professorStore.dataLoaded?new Promise(function(){return!0}):he.a.get(be+"professor/data").then(function(t){e.professorStore.updateData(t.data)}).catch(function(t){console.log(t),e._checkAuth(t)})}},{key:"loadAllCourses",value:function(){var e=this;return he.a.get(be+"professor/courses").then(function(t){e.professorStore.updateAllCourseData(t.data)}).catch(function(t){console.log(t),e._checkAuth(t)})}},{key:"loadAnswers",value:function(e){var t=this;return function(e){return he.a.get(be+"professor/questions/"+e+"/statistics")}(e).then(function(e){return e.data}).catch(function(e){return console.log(e),t._checkAuth(e),[]})}},{key:"loadQuestions",value:function(e){var t=this;return function(e){return he.a.get(be+"professor/lectures/"+e+"/questions")}(e).then(function(e){return e.data}).catch(function(e){return console.log(e),t._checkAuth(e),[]})}},{key:"openQuestion",value:function(e,t){var a=this;(function(e){return he.a.post(be+"professor/questions/"+e,{action:"open"})})(e).then(function(n){a.professorStore.openQuestion(e,t)}).catch(function(e){console.log(e),a._checkAuth(e)})}},{key:"closeQuestion",value:function(e,t){var a=this;(function(e){return he.a.post(be+"professor/questions/"+e,{action:"close"})})(e).then(function(n){a.professorStore.closeQuestion(e,t)}).catch(function(e){console.log(e),a._checkAuth(e)})}},{key:"closeAllQuestions",value:function(e){var t=this;(function(e){return he.a.post(be+"professor/lectures/"+e,{action:"close"})})(e).then(function(a){t.professorStore.closeAllQuestionsForLecture(e)}).catch(function(e){console.log(e),t._checkAuth(e)})}},{key:"addLecture",value:function(e){var t=this;(function(e){return he.a.post(be+"professor/courses/"+e.course_id+"/lectures",{title:e.title,date:e.date,description:e.description,open_date:e.openDate,close_date:e.closeDate,scheduled:e.scheduled})})(e).then(function(e){var a=e.data.lectures.find(function(t){return t.id===e.data.id});a.questions=[],t.professorStore.addLecture(a)}).catch(function(e){console.log(e),t._checkAuth(e)})}},{key:"addCourse",value:function(e){var t=this;(function(e){return he.a.post(be+"professor/courses",{title:e.title,dept:e.dept,coursenum:e.num,description:e.description,year:e.year,term:e.term})})(e).then(function(a){e.id=a.data.id;var n=a.data.courses.find(function(e){return e.id===a.data.id});n.lectures=[],t.professorStore.addCourse(a.data.courses,n)}).catch(function(e){console.log(e),t._checkAuth(e)})}},{key:"deleteCourses",value:function(e){var t=this;e.map(function(e){return(a=e,he.a.delete(be+"professor/courses/"+a)).then(function(){t.professorStore.removeCourse(e),t.professorStore.dataLoaded=!1,t.loadData()}).catch(function(e){console.log(e),t._checkAuth(e)});var a})}},{key:"changeCourseTitle",value:function(e,t){var a,n,s=this;(a=e,n=t,he.a.patch(be+"professor/courses/"+a,{title:n})).then(function(a){s.professorStore.updateCourse(e,t)}).catch(function(e){console.log(e),s._checkAuth(e)})}},{key:"changeCourseData",value:function(e,t){var a=this;(function(e,t){return he.a.patch(be+"professor/courses/"+e,{title:t.title,dept:t.dept,coursenum:t.coursenum,year:t.year,term:t.term,description:t.description})})(e,t).then(function(n){a.professorStore.updateCourseData(e,t)}).catch(function(e){console.log(e),a._checkAuth(e)})}},{key:"editLecture",value:function(e){var t,a=this;return(t=e,he.a.patch(be+"professor/lectures/"+t.id,{title:t.title,date:t.date,description:t.description,open_date:t.openDate,close_date:t.closeDate,scheduled:t.scheduled})).then(function(e){a.professorStore.updateLecture(e.data.lecture)}).catch(function(e){console.log(e),a._checkAuth(e)})}},{key:"editQuestion",value:function(e){var t,a=this;(t=e,he.a.patch(be+"professor/questions/"+t.id,{id:t.id,lecture_id:t.lecture_id,question_type:t.question_type,question_title:t.question_title,question_image:t.question_image,correct_answer:t.correct_answer,option1:t.option1,option2:t.option2,option3:t.option3,option4:t.option4,option5:t.option5,number_of_options:t.number_of_options,word_limit:t.word_limit,lower_label:t.lower_label,upper_label:t.upper_label})).then(function(t){a.professorStore.updateQuestion(e)}).catch(function(e){console.log(e),a._checkAuth(e)})}},{key:"deleteLectures",value:function(e,t){var a=this;e.map(function(e){return(n=e,he.a.delete(be+"professor/lectures/"+n)).then(function(){a.professorStore.removeLecture(e,t)}).catch(function(e){console.log(e),a._checkAuth(e)});var n})}},{key:"deleteQuestions",value:function(e,t){var a=this;e.map(function(e){return(n=e,he.a.delete(be+"professor/questions/"+n)).then(function(){a.professorStore.removeQuestion(e,t)}).catch(function(e){console.log(e),a._checkAuth(e)});var n})}},{key:"addQuestion",value:function(e){var t=this;(function(e){return he.a.post(be+"professor/lectures/"+e.lecture_id+"/questions",{lecture_id:e.lecture_id,question_type:e.question_type,question_title:e.question_title,question_image:e.question_image,correct_answer:e.correct_answer,creator_id:e.creator_id,option1:e.option1,option2:e.option2,option3:e.option3,option4:e.option4,option5:e.option5,number_of_options:e.number_of_options,word_limit:e.word_limit,lower_label:e.lower_label,upper_label:e.upper_label})})(e).then(function(e){var a=e.data.questions.find(function(t){return t.id===e.data.id});a.id=e.data.id,t.professorStore.addQuestion(a)}).catch(function(e){console.log(e),t._checkAuth(e)})}},{key:"getLogoutProf",value:function(){var e=Object(de.a)(ue.a.mark(function e(){var t=this;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:he.a.get(be+"professor/logout").catch(function(e){console.log(e),t._checkAuth(e)});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_checkAuth",value:function(e){void 0!==e.response&&401===e.response.status&&window.location.replace("/login-prof")}}]),e}(),Oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={anchorEl:null,goHome:!1,logout:!1,userName:""},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null,logout:!1})},a.handleLogout=function(){a.setState({anchorEl:null,logout:!0})},a.handleHome=function(){a.props.history.push("/professor")},a.styles=e.classes,a.store=e.store,a.apiProfService=new _e(a.store),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.apiProfService.getName().then(function(t){e.setState({userName:t})})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.anchorEl,a=Boolean(t);return this.state.logout?(this.apiProfService.getLogoutProf(),s.a.createElement(se.a,{to:"/",push:!0})):s.a.createElement(X.a,{position:"sticky",color:"inherit",className:this.styles.appBar},s.a.createElement(te.a,null,s.a.createElement($.a,{className:e.homeButton,onClick:this.handleHome,color:"primary"},s.a.createElement(ne.a,null,s.a.createElement("path",{fill:"secondary",d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"}))),s.a.createElement(te.a,{style:{float:"none",marginRight:"auto"}}),s.a.createElement(F.a,{variant:"h8",color:"secondary",align:"center"}," ",this.state.userName," "),s.a.createElement($.a,{"aria-haspopup":"true",onClick:this.handleMenu,color:"primary",float:"right"},s.a.createElement(ne.a,{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},s.a.createElement("path",{color:"secondary",d:"M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"}))),s.a.createElement(re.a,{id:"simple-menu",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:this.handleClose},s.a.createElement(le.a,{onClick:this.handleLogout},"LOGOUT"))))}}]),t}(s.a.Component),Ce=Object(q.a)(Object(y.withStyles)(function(e){return{appBar:Object(b.a)({},e.breakpoints.up("sm"),{marginLeft:240,width:"calc(100% - ".concat(240,"px)")}),homeButton:{marginLeft:"0%"}}})(Oe)),je=a(82),ke=a(25),Ie=(a(239),a(19)),qe=function e(t,a,n,s,i,r,o,c){Object(l.a)(this,e),this.course_id=s,this.date=a,this.id=n,this.title=t,this.scheduled=r,this.openDate=o,this.closeDate=c},xe=(Ee=function(){function e(){Object(l.a)(this,e),Object(je.a)(this,"courses",we,this),this.dataLoaded=!1}return Object(c.a)(e,[{key:"getCourseWithId",value:function(e){return this.courses.find(function(t){return t.id===e})}},{key:"getLectureById",value:function(e){if(0===e)return{questions:[]};var t=this.courses.find(function(t){return t.lectures.find(function(t){return t.id===e})});return void 0===t?new qe:t.lectures.find(function(t){return t.id===e})}},{key:"getLectureWithId",value:function(e){if(0===e)return{questions:[]};var t=this.courses.find(function(t){return t.lectures.find(function(t){return t.id===e})});return void 0===t?{questions:[]}:t.lectures.find(function(t){return t.id===e})}},{key:"getCourseLectures",value:function(e){return this.courses.find(function(t){return t.id===e}).lectures}},{key:"getQuestionWithId",value:function(e,t){return e.questions===[]||void 0===e.questions?new qe:void 0===e.questions.find(function(e){return e.id===t})?new qe:this.courses.find(function(t){return t.lectures.find(function(t){return t.id===e.id})}).lectures.find(function(t){return t.id===e.id}).questions.find(function(e){return e.id===t})}},{key:"getLectureQuestions",value:function(e){return this.courses.find(function(t){return t.lectures.find(function(t){return t.id===e})}).lectures}},{key:"updateData",value:function(e){this.dataLoaded=!0,this.courses=e}},{key:"addCourse",value:function(e,t){t.enroll_code=e.find(function(e){return e.id===t.id}).enroll_code,this.courses.push(t),this.courses.slice().sort(function(e,t){return e.created_at<t.created_at?-1:e.created_at>t.created_at?1:0})}},{key:"updateCourse",value:function(e,t){this.courses.find(function(t){return t.id===e}).title=t}},{key:"updateCourseData",value:function(e,t){var a=this.courses.find(function(t){return t.id===e});a.title=t.title,a.dept=t.dept,a.coursenum=t.coursenum,a.year=t.year,a.term=t.term,a.description=t.description,a.is_current=t.is_current}},{key:"updateLecture",value:function(e){var t=this.getLectureById(e.id);t.title=e.title,t.close_date=e.close_date,t.open_date=e.open_date,t.scheduled=e.scheduled,t.date=e.date,console.log(t)}},{key:"deleteCourse",value:function(e){this.courses.remove(this.courses.find(function(t){return t.id===e}))}},{key:"addLecture",value:function(e){this.courses.find(function(t){return t.id===e.course_id}).lectures.push(e),this.courses.find(function(t){return t.id===e.course_id}).lectures.slice().sort(function(e,t){return e.created_at<t.created_at?-1:e.created_at>t.created_at?1:0})}},{key:"removeCourse",value:function(e){this.courses.remove(this.courses.find(function(t){return t.id===e}))}},{key:"removeLecture",value:function(e,t){var a=this.courses.find(function(e){return e.id===t}).lectures;a.remove(a.find(function(t){return t.id===e}))}},{key:"removeQuestion",value:function(e,t){var a=this.courses.find(function(e){return e.lectures.find(function(e){return e.id===t})}).lectures.find(function(e){return e.id===t}).questions;a.remove(a.find(function(t){return t.id===e}))}},{key:"addQuestion",value:function(e){this.courses.find(function(t){return t.lectures.find(function(t){return t.id===e.lecture_id})}).lectures.find(function(t){return t.id===e.lecture_id}).questions.push(e),this.courses.find(function(t){return t.lectures.find(function(t){return t.id===e.lecture_id})}).lectures.find(function(t){return t.id===e.lecture_id}).questions.slice().sort(function(e,t){return e.created_at<t.created_at?-1:e.created_at>t.created_at?1:0})}},{key:"updateQuestion",value:function(e){for(var t=this.courses.find(function(t){return t.lectures.find(function(t){return t.id===e.lecture_id})}).lectures.find(function(t){return t.id===e.lecture_id}).questions.find(function(t){return t.id===e.id}),a=Object.keys(e),n=0;n<a.length;n++){var s=a[n];t[s]=e[s]}}},{key:"openQuestion",value:function(e,t){this.courses.find(function(e){return e.lectures.find(function(e){return e.id===t})}).lectures.find(function(e){return e.id===t}).questions.find(function(t){return t.id===e}).is_open=!0,this.courses.find(function(e){return e.lectures.find(function(e){return e.id===t})}).lectures.find(function(e){return e.id===t}).questions.find(function(t){return t.id===e}).opened_at=Date.now()}},{key:"closeQuestion",value:function(e,t){this.courses.find(function(e){return e.lectures.find(function(e){return e.id===t})}).lectures.find(function(e){return e.id===t}).questions.find(function(t){return t.id===e}).is_open=!1}},{key:"closeAllQuestionsForLecture",value:function(e){var t=this.courses.find(function(t){return t.lectures.find(function(t){return t.id===e})}).lectures.find(function(t){return t.id===e}).questions,a=!0,n=!1,s=void 0;try{for(var i,r=t[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){i.value.is_open=!1}}catch(o){n=!0,s=o}finally{try{a||null==r.return||r.return()}finally{if(n)throw s}}}},{key:"courses",set:function(e){e.sort(function(e,t){return e.created_at<t.created_at?-1:e.created_at>t.created_at?1:0}),this._courses=e}}]),e}(),we=Object(ke.a)(Ee.prototype,"courses",[Ie.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(ke.a)(Ee.prototype,"getCourseLectures",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"getCourseLectures"),Ee.prototype),Object(ke.a)(Ee.prototype,"getLectureQuestions",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"getLectureQuestions"),Ee.prototype),Object(ke.a)(Ee.prototype,"updateData",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"updateData"),Ee.prototype),Object(ke.a)(Ee.prototype,"addCourse",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"addCourse"),Ee.prototype),Object(ke.a)(Ee.prototype,"updateCourse",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"updateCourse"),Ee.prototype),Object(ke.a)(Ee.prototype,"updateCourseData",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"updateCourseData"),Ee.prototype),Object(ke.a)(Ee.prototype,"updateLecture",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"updateLecture"),Ee.prototype),Object(ke.a)(Ee.prototype,"deleteCourse",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"deleteCourse"),Ee.prototype),Object(ke.a)(Ee.prototype,"addLecture",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"addLecture"),Ee.prototype),Object(ke.a)(Ee.prototype,"removeCourse",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"removeCourse"),Ee.prototype),Object(ke.a)(Ee.prototype,"removeLecture",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"removeLecture"),Ee.prototype),Object(ke.a)(Ee.prototype,"removeQuestion",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"removeQuestion"),Ee.prototype),Object(ke.a)(Ee.prototype,"addQuestion",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"addQuestion"),Ee.prototype),Object(ke.a)(Ee.prototype,"updateQuestion",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"updateQuestion"),Ee.prototype),Object(ke.a)(Ee.prototype,"openQuestion",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"openQuestion"),Ee.prototype),Object(ke.a)(Ee.prototype,"closeQuestion",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"closeQuestion"),Ee.prototype),Object(ke.a)(Ee.prototype,"closeAllQuestionsForLecture",[Ie.d],Object.getOwnPropertyDescriptor(Ee.prototype,"closeAllQuestionsForLecture"),Ee.prototype),Ee),Qe=a(12),Le=a.n(Qe),Ne=a(45),De=a.n(Ne),Te=a(61),Ae=a.n(Te),Pe=a(91),Ve=a.n(Pe),Fe=a(102),Me=a.n(Fe),We=a(47),Re=a.n(We),Be=a(35),Ue=a.n(Be),ze=a(76),Ye=a.n(ze),Ge=a(41),He=a.n(Ge),$e=a(70),Ze=a.n($e),Je=a(158),Ke=a.n(Je);var Xe,et=Object(g.c)(Se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={open:!1,code:""},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.setState({open:!1})},a.joinCode=e.joinCode,a.profStore=e.profStore,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({code:this.joinCode})}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.joinCode&&this.setState({code:e.joinCode})}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Add Students",placement:"top"},s.a.createElement($.a,{color:"primary",onClick:this.handleOpen},s.a.createElement(Ke.a,null))),s.a.createElement(Ze.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},s.a.createElement("div",{style:{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:e.paper},s.a.createElement(F.a,{variant:"subtitle1"},"Share this code with your students:"),s.a.createElement(F.a,{variant:"h5",gutterBottom:!0},this.state.code),s.a.createElement(Le.a,{variant:"outlined",color:"primary",onClick:this.handleSubmit},"Done"))))}}]),t}(s.a.Component))||Se,tt=Object(y.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200}}})(et),at=a(159),nt=a.n(at),st=a(17),it=a.n(st);var rt,ot,lt,ct,ut,dt,pt,ht,mt,ft,bt,gt,yt,vt,Et,wt=Object(g.c)(Xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={open:!1,newYear:"",newTerm:""},a.handleOpen=function(){a.setState({open:!0})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s))},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.apiProfService.duplicateCourse(a.courseId,a.state.newYear,a.state.newTerm).then(function(e){a.setState({open:!1})})},a.profStore=e.profStore,a.apiProfService=e.apiProfService,a.courseId=e.courseId,a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){void 0!==e.courseId&&(this.courseId=e.courseId)}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Duplicate Course",placement:"top"},s.a.createElement($.a,{color:"secondary",onClick:this.handleOpen},s.a.createElement(nt.a,null))),s.a.createElement(Ze.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},s.a.createElement("div",{style:{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:e.paper},s.a.createElement(F.a,{variant:"subtitle1"},"Duplicate Course"),s.a.createElement("form",{className:this.styles.container,onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},s.a.createElement(it.a,{label:"Year",name:"newYear",className:this.styles.textField,error:isNaN(this.state.newYear),value:this.state.newYear,onChange:this.handleChange,margin:"normal",helperText:"Year must be an integer."}),s.a.createElement(it.a,{label:"Term",name:"newTerm",className:this.styles.textField,value:this.state.newTerm,onChange:this.handleChange,margin:"normal"}),s.a.createElement(Le.a,{className:this.styles.button,type:"submit",disabled:!(this.state.newTerm&&!isNaN(this.state.newYear)),variant:"outlined",color:"primary"}," submit")))))}}]),t}(s.a.Component))||Xe,St=Object(y.withStyles)(function(e){return{paper:{position:"absolute",width:20*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:2*e.spacing.unit,direction:"column"},container:{display:"flex",flexWrap:"wrap",flexDirection:"column"},textField:{width:15*e.spacing.unit},button:{width:15*e.spacing.unit},dense:{marginTop:19},menu:{width:200}}})(wt),_t=a(161),Ot=a.n(_t),Ct=a(160),jt=a.n(Ct),kt=Object(g.c)(rt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={editMode:!1,courseTitle:a.courseTitle,newTitle:"",nav:!1,courseId:a.courseId,courseYear:a.courseYear,courseTerm:a.courseTerm,courseCode:a.courseCode,toHome:!1},a.handleEdit=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s))},a.handleEditOpen=function(){a.setState({editMode:!0})},a.handleEditClose=function(){a.state.newTitle.replace(/\s/g,"").length>0?(a.apiProfService.changeCourseTitle(a.state.courseId,a.state.newTitle),a.setState({courseTitle:a.state.newTitle,editMode:!1})):a.setState({editMode:!1})},a.handleToCourse=function(){a.setState({nav:!0})},a.handleArchive=function(){a.apiProfService.archiveCourse(a.state.courseId).then(function(){a.setState({toHome:!0})})},a.handleExportGrades=function(){a.apiProfService.exportGradesCourse(a.courseId).then(function(e){var t=document.createElement("a"),a=new Blob([e.fileData],{type:"text/csv;charset=utf-8;"});t.href=URL.createObjectURL(a),t.download=e.fileName,document.body.appendChild(t),t.click()})},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiProfService,a.courseId=e.courseId,a.courseTitle=e.courseTitle,a.courseYear=e.courseYear,a.courseTerm=e.courseTerm,a.courseCode=e.courseCode,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({courseTitle:this.courseTitle,newTitle:this.courseTitle,courseId:this.courseId,courseYear:this.courseYear,courseTerm:this.courseTerm,courseCode:this.courseCode})}},{key:"componentWillReceiveProps",value:function(e){this.state.editMode||e.courseId!==this.courseId&&this.setState({courseTitle:e.courseTitle,newTitle:e.courseTitle,courseId:e.courseId,courseYear:e.courseYear,courseTerm:e.courseTerm,courseCode:e.courseCode})}},{key:"render",value:function(){var e=this;return this.state.nav?s.a.createElement(se.a,{to:"/professor/"+this.state.courseId+"/lectures",push:!0}):this.state.toHome?s.a.createElement(se.a,{to:"/professor",push:!0}):this.state.editMode?s.a.createElement(T.a,{divider:!0},s.a.createElement(He.a,null,s.a.createElement(Ye.a,{id:"bootstrap-input",name:"newTitle",value:this.state.newTitle,onChange:function(t){return e.handleEdit(t)},classes:{input:this.styles.bootstrapInput}})),s.a.createElement(G.a,null,s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Done Editing",placement:"top"},s.a.createElement($.a,{color:"secondary",onClick:this.handleEditClose},s.a.createElement(Re.a,{className:this.styles.iconDone})))),s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Export Grades",placement:"top"},s.a.createElement($.a,{color:"secondary",href:be+"professor/courses/"+this.courseId+"/exportgrades",target:"_blank"},s.a.createElement(Me.a,null)))),s.a.createElement(N.a,{item:!0},s.a.createElement(tt,{profStore:this.profStore,joinCode:this.state.courseCode}))))):s.a.createElement(T.a,{button:!0,divider:!0,onClick:this.handleToCourse},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start"},s.a.createElement(N.a,{item:!0},s.a.createElement(j.a,{primary:this.state.courseTitle,secondary:this.state.courseTerm+" "+this.state.courseYear}))),s.a.createElement(G.a,null,s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Change Title",placement:"top"},s.a.createElement($.a,{color:"secondary",onClick:this.handleEditOpen},s.a.createElement(Ve.a,null)))),s.a.createElement(N.a,{item:!0},s.a.createElement(St,{profStore:this.profStore,apiProfService:this.apiProfService,courseId:this.state.courseId})),s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:this.props.archive?"Unarchive Course":"Archive Course",placement:"top"},s.a.createElement($.a,{color:"secondary",onClick:this.handleArchive},this.props.archive?s.a.createElement(jt.a,null):s.a.createElement(Ot.a,null)))),s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Export Grades",placement:"top"},s.a.createElement($.a,{color:"secondary",onClick:this.handleExportGrades},s.a.createElement(Me.a,null)))),s.a.createElement(N.a,{item:!0},s.a.createElement(tt,{profStore:this.profStore,joinCode:this.state.courseCode})))))}}]),t}(s.a.Component))||rt,It=Object(y.withStyles)(function(e){return{iconDone:{color:e.palette.primary.light},iconEdit:{color:e.palette.secondary},bootstrapInput:{borderRadius:4,backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:14,padding:"10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}})(kt),qt=Object(g.c)(ot=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={referrerCourseId:null},a.handleCourseClick=function(e){return function(){a.setState(function(){return{referrerCourseId:e}})}},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiProfService,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.profStore.courses.filter(function(e){return e.is_current});if(null!==this.state.referrerCourseId)return s.a.createElement(se.a,{to:"/professor/"+this.state.referrerCourseId+"/lectures",push:!0});var a=t.map(function(t,a){return s.a.createElement(It,{key:a,archive:!1,profStore:e.profStore,apiProfService:e.apiProfService,courseId:t.id,courseTitle:t.title,courseYear:t.year,courseTerm:t.term,courseCode:t.enroll_code})});return s.a.createElement(O.a,{component:"nav"},a)}}]),t}(s.a.Component))||ot,xt=Object(y.withStyles)(function(e){return{card:{minWidth:275}}})(qt),Qt=a(55),Lt=a.n(Qt),Nt=a(103),Dt=a.n(Nt),Tt=a(49),At=a.n(Tt),Pt=Object(g.c)(lt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={referrerLectureId:null,delCourses:[]},a.handleChange=function(e){return function(t){a.state.delCourses.find(function(t){return t.id===e}).checked=t.target.checked,a.setState({delCourses:a.state.delCourses}),a.props.getDeletions(a.state.delCourses)}},a.styles=e.classes,a.profStore=e.profStore,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];this.profStore.courses.filter(function(t){return t.is_current!==e.props.archive}).forEach(function(e){t.push({id:e.id,checked:!1,title:e.title,term:e.term,year:e.year})}),this.setState({delCourses:t})}},{key:"render",value:function(){var e=this;return s.a.createElement(He.a,{component:"fieldset",fullWidth:!0},s.a.createElement(Dt.a,{name:"delCourses",value:this.state.delCourses,onChange:this.handleChange},s.a.createElement(O.a,{component:"nav"},this.state.delCourses.map(function(t,a){return s.a.createElement(T.a,{divider:!0,key:a},s.a.createElement(j.a,{primary:t.title,secondary:t.term+" "+t.year}),s.a.createElement(G.a,null,s.a.createElement(At.a,{key:a,control:s.a.createElement(Lt.a,{className:e.styles.checkBox,key:t.id,checked:t.checked,onChange:e.handleChange(t.id),value:t.id})})))}))))}}]),t}(s.a.Component))||lt,Vt=Object(y.withStyles)(function(e){return{checkBox:{color:e.palette.primary.dark}}})(Pt),Ft=a(53),Mt=a.n(Ft),Wt=a(63),Rt=a.n(Wt),Bt=a(36),Ut=a.n(Bt),zt=a(38),Yt=a.n(zt),Gt=a(37),Ht=a.n(Gt),$t=a(54),Zt=a.n($t),Jt=a(40),Kt=a.n(Jt),Xt=Object(g.c)(ct=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={toNewCourse:!1,deleteMode:!1,deletions:[],delTitles:[],delIds:[],open:!1},a.getDeletions=function(e){a.setState({deletions:e})},a.handleNewCourseClick=function(){a.setState(function(){return{toNewCourse:!0}})},a.handleDelete=function(){if(a.state.deleteMode){for(var e=[],t=[],n=0;n<a.state.deletions.length;n++)a.state.deletions[n].checked&&(e.push(a.state.deletions[n].id),t.push(a.state.deletions[n].title));e.length>0?a.setState({delTitles:t,delIds:e,open:!0}):a.handleClose()}else a.setState({deleteMode:!0})},a.handleClose=function(){a.setState({deleteMode:!1,open:!1,delIds:[],delTitles:[],deletions:[]})},a.handleFinalDeletion=function(){a.apiProfService.deleteCourses(a.state.delIds),a.handleClose()},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiProfService,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!0===this.state.toNewCourse)return s.a.createElement(se.a,{to:"/professor/new",push:!0});var e=s.a.createElement(xt,{profStore:this.profStore,apiProfService:this.apiProfService}),t="Delete";return this.state.deleteMode&&(e=s.a.createElement(Vt,{profStore:this.profStore,getDeletions:this.getDeletions,archive:!1}),t="Done"),s.a.createElement("div",null,s.a.createElement(De.a,{className:this.props.classes.card},s.a.createElement(Ae.a,null,s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},s.a.createElement(N.a,{item:!0},s.a.createElement(F.a,{className:this.styles.title,variant:"h6",color:"inherit"}," Courses ")),s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:t,placement:"top"},s.a.createElement($.a,{color:"secondary",onClick:this.handleDelete.bind(this)},"Delete"===t?s.a.createElement(Rt.a,null):s.a.createElement(Re.a,null)))),s.a.createElement(N.a,{item:!0},s.a.createElement(Le.a,{onClick:this.handleNewCourseClick,color:"primary"},s.a.createElement(Mt.a,{className:this.styles.icon,color:"primary"},"add_circle"),"Add Course"))))),e)),s.a.createElement(Ut.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},"Are you sure you want to delete the following course(s): "),s.a.createElement(Ht.a,null,this.state.delTitles.map(function(e,t){return s.a.createElement(Zt.a,{key:t,id:"alert-dialog-description"},e)})),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,autoFocus:!0,color:"secondary"},"no"),s.a.createElement(Le.a,{onClick:this.handleFinalDeletion,color:"secondary"},"yes"))))}}]),t}(s.a.Component))||ct,ea=Object(y.withStyles)(function(e){return{card:{minWidth:275},icon:{margin:e.spacing.unit},title:{margin:e.spacing.unit}}})(Xt),ta=a(78),aa=Object(g.c)(ut=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={referrerCourseId:null},a.handleCourseClick=function(e){return function(){a.setState(function(){return{referrerCourseId:e}})}},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiProfService,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.profStore.courses.filter(function(e){return!e.is_current});return null!==this.state.referrerCourseId?s.a.createElement(se.a,{to:"/professor/"+this.state.referrerCourseId+"/lectures",push:!0}):s.a.createElement(O.a,{component:"nav"},t.map(function(t,a){return s.a.createElement(It,{key:a,archive:!0,profStore:e.profStore,apiProfService:e.apiProfService,courseId:t.id,courseTitle:t.title,courseYear:t.year,courseTerm:t.term,joinCode:t.enroll_code})}))}}]),t}(s.a.Component))||ut,na=Object(y.withStyles)(function(e){return{card:{minWidth:275}}})(aa),sa=Object(g.c)(dt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={toNewCourse:!1,deleteMode:!1,deletions:[],delTitles:[],delIds:[],open:!1,showArchive:!1},a.getDeletions=function(e){a.setState({deletions:e})},a.handleDelete=function(){if(a.state.deleteMode){for(var e=[],t=[],n=0;n<a.state.deletions.length;n++)a.state.deletions[n].checked&&(e.push(a.state.deletions[n].id),t.push(a.state.deletions[n].title));e.length>0?a.setState({delTitles:t,delIds:e,open:!0}):a.handleClose()}else a.setState({deleteMode:!0})},a.handleClose=function(){a.setState({deleteMode:!1,open:!1,delIds:[],delTitles:[],deletions:[]})},a.handleFinalDeletion=function(){a.apiProfService.deleteCourses(a.state.delIds),a.handleClose()},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiProfService,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleToggleArchive",value:function(){this.setState(function(e){return Object(ta.a)({},e,{showArchive:!e.showArchive})})}},{key:"render",value:function(){if(!0===this.state.toNewCourse)return s.a.createElement(se.a,{to:"/professor/new",push:!0});var e=s.a.createElement(na,{profStore:this.profStore,apiProfService:this.apiProfService}),t="Delete";this.state.deleteMode&&(e=s.a.createElement(Vt,{profStore:this.profStore,getDeletions:this.getDeletions,archive:!0}),t="Done");var a=this.state.showArchive?"Archived Courses":"Show Archived Courses",n="";return this.state.showArchive&&(n="Delete"===t?s.a.createElement(Rt.a,null):s.a.createElement(Re.a,null)),s.a.createElement("div",{className:this.props.classes.containerDiv},s.a.createElement(De.a,{className:this.props.classes.card},s.a.createElement(Ae.a,null,s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row"},s.a.createElement(N.a,{item:!0},s.a.createElement(F.a,{className:this.styles.title,variant:"h6",color:"inherit"}," ",a," ")),s.a.createElement(N.a,{item:!0},s.a.createElement($.a,{color:"primary",onClick:this.handleToggleArchive.bind(this)},this.state.showArchive?s.a.createElement(B.a,null):s.a.createElement(z.a,null))))),s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:t,placement:"top"},s.a.createElement($.a,{color:"secondary",onClick:this.handleDelete.bind(this)},n)))))),s.a.createElement(W.a,{in:this.state.showArchive,timeout:"auto",unmountOnExit:!0},e),s.a.createElement(Ut.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},"Are you sure you want to delete the following course(s): "),s.a.createElement(Ht.a,null,this.state.delTitles.map(function(e,t){return s.a.createElement(Zt.a,{key:t,id:"alert-dialog-description"},e)})),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,autoFocus:!0,color:"secondary"},"no"),s.a.createElement(Le.a,{onClick:this.handleFinalDeletion,color:"secondary"},"yes"))))))}}]),t}(s.a.Component))||dt,ia=Object(y.withStyles)(function(e){return{card:{minWidth:275},icon:{margin:e.spacing.unit},title:{margin:e.spacing.unit},containerDiv:{paddingTop:8*e.spacing.unit}}})(sa),ra=Object(g.b)("profStore")(pt=Object(g.c)(pt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).styles=e.classes,a.profStore=e.profStore,a.apiProfService=new _e(a.profStore),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(ea,{profStore:this.profStore,apiProfService:this.apiProfService}),s.a.createElement(ia,{profStore:this.profStore,apiProfService:this.apiProfService}))}}]),t}(s.a.Component))||pt)||pt,oa=Object(y.withStyles)(function(e){return{}})(ra),la=a(18),ca=function e(t){Object(l.a)(this,e),void 0!==t&&(this.title=t.title,this.id=t.id,this.num=t.num,this.dept=t.dept,this.description=t.description,this.term=t.term,this.joinCode=t.joinCode,this.year=t.year,this.is_current=t.is_current)},ua=Object(g.b)("profStore")(ht=Object(g.c)(ht=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).styles=e.classes,a.profStore=e.profStore,a.apiProfService=new _e(a.profStore),a.state={toHome:!1,title:"",dept:"",num:"",year:"",term:"",description:"",formValid:!1,yearValid:!1,titleValid:!1},a.handleChange=a.handleChange.bind(Object(la.a)(Object(la.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(la.a)(Object(la.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleValidation",value:function(){var e=!0,t=!0;""===this.state.title&&(e=!1),isNaN(this.state.year)&&(t=!1),this.setState({titleValid:e,yearValid:t,formValid:e&&t})}},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.name,s=a.value;this.setState(Object(b.a)({},n,s),function(){t.handleValidation()})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.apiProfService.addCourse(new ca(this.state)),this.setState({toHome:!0})}},{key:"render",value:function(){return!0===this.state.toHome?s.a.createElement(se.a,{to:"/professor",push:!0}):s.a.createElement("div",{className:this.styles.paper},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"},"Add New Course:"),s.a.createElement("form",{className:this.styles.container,onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},s.a.createElement(it.a,{label:"Course Name",name:"title",error:!this.state.titleValid,helperText:"Course must have a title",className:this.styles.textField,value:this.state.title,onChange:this.handleChange,margin:"normal"}),s.a.createElement(it.a,{label:"Department",name:"dept",className:this.styles.textField,value:this.state.dept,onChange:this.handleChange,margin:"normal"}),s.a.createElement(it.a,{label:"Course Number",name:"num",className:this.styles.textField,value:this.state.num,onChange:this.handleChange,margin:"none"}),s.a.createElement(it.a,{label:"Year",name:"year",error:!this.state.yearValid,helperText:"Year must be an integer",className:this.styles.textField,value:this.state.year,onChange:this.handleChange,margin:"normal"}),s.a.createElement(it.a,{label:"Term",name:"term",className:this.styles.textField,value:this.state.term,onChange:this.handleChange,margin:"none"}),s.a.createElement(it.a,{label:"Description",name:"description",className:this.styles.textField,value:this.state.description,onChange:this.handleChange,margin:"normal",multiline:!0}),s.a.createElement(Le.a,{type:"submit",disabled:!this.state.formValid,variant:"outlined",color:"primary"}," submit")))}}]),t}(s.a.Component))||ht)||ht,da=Object(y.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},subcontainer:{display:"flex",direction:"row",alignItems:"flex-start"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400}}})(ua),pa=a(122),ha=a(69),ma=a(119),fa=Object(g.b)("profStore")(mt=Object(g.b)("apiService")(mt=Object(g.c)(mt=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).modifyDate=function(e){return e=new Date(Date.UTC(e.getYear()+1900,e.getMonth(),e.getDate(),12,0,0))},a.handleDateChange=function(e){e=a.modifyDate(e),a.setState({selectedDate:e})},a.handleOpenDateChange=function(e){e=a.modifyDate(e),a.setState({openDate:e},function(){a.handleValidation()})},a.handleCloseDateChange=function(e){e=a.modifyDate(e),a.setState({closeDate:e},function(){a.handleValidation()})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s),function(){a.handleValidation()})},a.handleCheck=function(e){var t=e.target,n=t.name,s=t.checked;a.setState(Object(b.a)({},n,s),function(){a.handleValidation()})},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.props.apiService.editLecture(new qe(a.state.title,a.state.selectedDate,a.state.id,a.state.courseId,null,a.state.scheduled,a.state.openDate,a.state.closeDate)).then(function(){a.handleClose()})},ma.a.prototype.getStartOfMonth=ma.a.prototype.startOfMonth,a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiService;var n=a.modifyDate(new Date);return a.state={open:!1,title:"",courseId:"",id:"",scheduled:!1,titleValid:!0,formValid:!1,selectedDate:n,dateValid:!0,openDate:n,closeDate:n},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;void 0!==e.lectureObj&&(this.setState({title:e.lectureObj.title,scheduled:e.lectureObj.scheduled,selectedDate:this.modifyDate(new Date(e.lectureObj.date)),courseId:e.lectureObj.courseId,id:e.lectureObj.id},function(){t.handleValidation()}),e.lectureObj.scheduled&&this.setState({openDate:this.modifyDate(new Date(e.lectureObj.open_date)),closeDate:this.modifyDate(new Date(e.lectureObj.close_date))},function(){t.handleValidation()}))}},{key:"handleValidation",value:function(){var e=this.state.dateValid,t=""!==this.state.title;e=!this.state.scheduled||this.state.closeDate.getTime()>=this.state.openDate.getTime(),this.setState({titleValid:t,dateValid:e},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.titleValid&&this.state.dateValid})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Le.a,{variant:"outlined",onClick:this.handleOpen},s.a.createElement(F.a,{variant:"h7",color:"textPrimary"},"Edit")),s.a.createElement(Ut.a,{fullWidth:!0,scroll:"paper",open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},"Edit Lecture Information"),s.a.createElement(Ht.a,null,s.a.createElement(N.a,{container:!0,direction:"column"},s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(it.a,{requiredtitle:"true",error:!this.state.titleValid,name:"title",label:"Lecture Title",className:this.styles.textField,value:this.state.title,onChange:this.handleChange,margin:"normal",multiline:!0})),s.a.createElement(ha.b,{utils:pa.a},s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(ha.a,{margin:"normal",label:"Lecture Date",name:"selectedDate",value:this.state.selectedDate,onChange:this.handleDateChange.bind,className:this.styles.dateField}))),s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(N.a,{container:!0,direction:"row",alignItems:"center"},s.a.createElement(N.a,{item:!0},s.a.createElement(Lt.a,{checked:this.state.scheduled,onChange:this.handleCheck,name:"scheduled"})),s.a.createElement(N.a,{item:!0},s.a.createElement(F.a,{variant:"body2",color:"textPrimary"},"Schedule the Lecture to Open and Close at Specific Dates")))),s.a.createElement(W.a,{in:this.state.scheduled,timeout:"auto",unmountOnExit:!0},s.a.createElement(ha.b,{utils:pa.a},s.a.createElement(N.a,{container:!0,direction:"row"},s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(ha.a,{margin:"normal",label:"Start Date",name:"openDate",value:this.state.openDate,onChange:this.handleOpenDateChange,className:this.styles.dateField,error:!this.state.dateValid})),s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(ha.a,{margin:"normal",label:"End Date",name:"closeDate",value:this.state.closeDate,onChange:this.handleCloseDateChange,className:this.styles.dateField,error:!this.state.dateValid}))))))),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,type:"button",autoFocus:!0,color:"secondary"},"Cancel"),s.a.createElement(Le.a,{onClick:this.handleSubmit,type:"submit",color:"secondary",disabled:!this.state.formValid},"Submit"))))}}]),t}(s.a.Component))||mt)||mt)||mt,ba=Object(y.withStyles)(function(e){return{paper:{position:"absolute",width:80*e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},gridItem:{margin:e.spacing.unit},dateField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:30*e.spacing.unit},gridItemButton:{margin:2*e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:60*e.spacing.unit}}})(fa),ga=Object(g.c)(ft=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={editMode:!1,lecture:new qe(null,new Date),newTitle:"",nav:!1},a.handleEdit=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s))},a.handleEditOpen=function(){a.setState({editMode:!0})},a.handleEditClose=function(){a.state.newTitle.replace(/\s/g,"").length>0?(a.apiProfService.changeLectureTitle(a.state.lecture.id,a.state.newTitle),a.setState({editMode:!1})):a.setState({editMode:!1})},a.handleToLecture=function(){a.setState({nav:!0})},a.handleExportGrades=function(){a.apiProfService.exportGradesLecture(a.state.lecture.id).then(function(e){var t=document.createElement("a"),a=new Blob([e.fileData],{type:"text/csv;charset=utf-8;"});t.href=URL.createObjectURL(a),t.download=e.fileName,document.body.appendChild(t),t.click()})},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiProfService,a.lecture=e.lecture,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.lecture&&this.setState({lecture:this.lecture,newTitle:this.lecture.title})}},{key:"componentWillReceiveProps",value:function(e){this.state.editMode||void 0!==e.lecture&&e.lecture.id!==this.state.lecture.id&&this.setState({lecture:e.lecture,newTitle:e.lecture.title})}},{key:"render",value:function(){return this.state.nav?s.a.createElement(se.a,{to:"/professor/"+this.state.lecture.id+"/questions",push:!0}):s.a.createElement("div",null,s.a.createElement(T.a,{button:!0,divider:!0,onClick:this.handleToLecture},s.a.createElement(j.a,{primary:this.state.lecture.title,secondary:""+this.state.lecture.date}),s.a.createElement(G.a,null,s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Edit Lecture",placement:"top"},s.a.createElement(ba,{lectureObj:this.state.lecture}))),s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Export Grades",placement:"top"},s.a.createElement($.a,{color:"secondary",onClick:this.handleExportGrades},s.a.createElement(Me.a,null))))))))}}]),t}(s.a.Component))||ft,ya=Object(y.withStyles)(function(e){return{iconDone:{color:e.palette.primary.light},iconEdit:{color:e.palette.secondary},bootstrapInput:{borderRadius:4,backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:14,padding:"10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}})(ga),va=Object(g.c)(bt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={lectures:[]},a.styles=e.classes,a.profStore=e.profStore,a.courseId=e.courseId,a.apiProfService=e.apiProfService,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){void 0!==this.courseId&&this.setState({lectures:this.profStore.getCourseLectures(this.courseId)})}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.courseId&&this.setState({lectures:this.profStore.getCourseLectures(e.courseId)})}},{key:"render",value:function(){var e=this;return s.a.createElement(O.a,{component:"nav"},this.state.lectures.map(function(t,a){return s.a.createElement(ya,{key:a,profStore:e.profStore,apiProfService:e.apiProfService,lecture:t})}))}}]),t}(s.a.Component))||bt,Ea=Object(y.withStyles)(function(e){return{icon:{color:e.palette.primary.light}}})(va),wa=a(33),Sa=a.n(wa),_a=Object(g.c)(gt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={parentCourse:new qe,editMode:!1},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(function(e){var t=Object(ta.a)({},e.parentCourse);return t[n]=s,{parentCourse:t,editMode:e.editMode}})},a.handleEditOpen=function(){a.setState({editMode:!0})},a.handleEditClose=function(){a.apiProfService.changeCourseData(a.state.parentCourse.id,a.state.parentCourse),a.setState({editMode:!1})},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiProfService,a.courseId=e.courseId,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;void 0!==this.courseId&&(this.profStore.dataLoaded?this.setState({parentCourse:this.profStore.getCourseWithId(this.courseId)}):this.apiProfService.loadData().then(function(){e.profStore.dataLoaded=!0,e.setState({parentCourse:e.profStore.getCourseWithId(e.courseId)})}))}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.courseId&&this.setState({parentCourse:this.profStore.getCourseWithId(e.courseId)})}},{key:"render",value:function(){return this.state.editMode?s.a.createElement(Sa.a,{className:this.styles.editRoot,elevation:1},s.a.createElement(N.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch"},s.a.createElement(N.a,{item:!0,xs:12},s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},s.a.createElement(N.a,{item:!0,xs:11},s.a.createElement(it.a,{label:"Course Name",name:"title",className:this.styles.textFieldShort,value:this.state.parentCourse.title,onChange:this.handleChange,margin:"normal"}),s.a.createElement(it.a,{label:"Department",name:"dept",className:this.styles.textFieldShort,value:this.state.parentCourse.dept,onChange:this.handleChange,margin:"normal"}),s.a.createElement(it.a,{label:"Course Number",name:"coursenum",className:this.styles.textFieldShort,value:this.state.parentCourse.coursenum,onChange:this.handleChange,margin:"normal"})),s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Done Editing",placement:"top"},s.a.createElement($.a,{color:"secondary",disabled:!this.state.parentCourse.title,onClick:this.handleEditClose},s.a.createElement(Re.a,{className:this.styles.iconDone}))))),s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},s.a.createElement(N.a,{item:!0,xs:12},s.a.createElement(it.a,{label:"Term",name:"term",className:this.styles.textFieldShort,value:this.state.parentCourse.term,onChange:this.handleChange,margin:"normal"}),s.a.createElement(it.a,{label:"Year",name:"year",className:this.styles.textFieldShort,value:this.state.parentCourse.year,onChange:this.handleChange,margin:"normal"}))),s.a.createElement(it.a,{label:"Description",name:"description",className:this.styles.textFieldLong,value:this.state.parentCourse.description,onChange:this.handleChange,multiline:!0,margin:"normal"})))):s.a.createElement(Sa.a,{className:this.styles.root,elevation:1},s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},s.a.createElement(N.a,{item:!0,xs:12},s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},s.a.createElement(N.a,{item:!0},s.a.createElement(F.a,{className:this.styles.title,variant:"h4",color:"inherit"},this.state.parentCourse.dept," ",this.state.parentCourse.coursenum," - ",this.state.parentCourse.title)),s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"Edit Course Info",placement:"top"},s.a.createElement($.a,{color:"primary",onClick:this.handleEditOpen},s.a.createElement(Ve.a,null))))),s.a.createElement(F.a,{className:this.styles.termYear,variant:"h8"},this.state.parentCourse.term," ",this.state.parentCourse.year),s.a.createElement(Q.a,{className:this.styles.divider}),s.a.createElement(F.a,{className:this.styles.title,variant:"body2",color:"inherit"},this.state.parentCourse.description))))}}]),t}(s.a.Component))||gt,Oa=Object(y.withStyles)(function(e){return{root:Object(ta.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:7*e.spacing.unit,backgroundColor:e.palette.secondary.main}),editRoot:Object(ta.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:7*e.spacing.unit,backgroundColor:e.palette.primary.main}),card:{minWidth:275},icon:{margin:e.spacing.unit},title:{margin:e.spacing.unit,color:"#FFFFFF"},termYear:{margin:e.spacing.unit,color:"#FFFFFF",fontStyle:"italic"},textFieldShort:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:350},textFieldLong:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:1e3},divider:{backgroundColor:"#FFFFFF"}}})(_a),Ca=Object(g.c)(yt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={referrerLectureId:null,delLectures:[],lectures:[]},a.handleChange=function(e){return function(t){a.state.delLectures.find(function(t){return t.id===e}).checked=t.target.checked,a.setState({delLectures:a.state.delLectures}),a.props.getDeletions(a.state.delLectures)}},a.styles=e.classes,a.profStore=e.profStore,a.courseId=e.courseId,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=[];this.profStore.getCourseLectures(this.courseId).map(function(t){return e.push({id:t.id,checked:!1,title:t.title})}),void 0!==this.courseId&&this.setState({lectures:this.profStore.getCourseLectures(this.courseId),delLectures:e})}},{key:"render",value:function(){var e=this;return s.a.createElement(He.a,{component:"fieldset",fullWidth:!0},s.a.createElement(Dt.a,{name:"delLectures",value:this.state.delLectures,onChange:this.handleChange},s.a.createElement(O.a,{component:"nav"},this.state.delLectures.map(function(t,a){return s.a.createElement(T.a,{divider:!0,key:a},s.a.createElement(j.a,{primary:t.title}),s.a.createElement(G.a,null,s.a.createElement(At.a,{key:a,control:s.a.createElement(Lt.a,{className:e.styles.checkBox,key:t.id,checked:t.checked,onChange:e.handleChange(t.id),value:t.id})})))}))))}}]),t}(s.a.Component))||yt,ja=Object(y.withStyles)(function(e){return{checkBox:{color:e.palette.primary.dark}}})(Ca),ka=Object(g.c)(vt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={toNewLecture:!1,referrerLectureIndex:-1,parentCourse:new ca,numLects:void 0,deletions:[],deleteMode:!1,delTitles:[],delIds:[],open:!1},a.getDeletions=function(e){a.setState({deletions:e})},a.handleNewLectureClick=function(){a.setState(function(){return{toNewLecture:!0,numLects:a.profStore.getCourseLectures(a.state.parentCourse.id).length+1}})},a.handleLectureClick=function(e){a.setState(function(){return{referrerLectureIndex:e}})},a.handleDelete=function(){if(a.state.deleteMode){for(var e=[],t=[],n=0;n<a.state.deletions.length;n++)a.state.deletions[n].checked&&(e.push(a.state.deletions[n].id),t.push(a.state.deletions[n].title));e.length>0?a.setState({delTitles:t,delIds:e,open:!0}):a.handleClose()}else a.setState({deleteMode:!0})},a.handleClose=function(){a.setState({deleteMode:!1,open:!1,delIds:[],delTitles:[],deletions:[]})},a.handleFinalDeletion=function(){a.apiProfService.deleteLectures(a.state.delIds,a.state.parentCourse.id),a.handleClose()},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiProfService,a.courseId=e.courseId,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.profStore.dataLoaded?this.setState({parentCourse:this.profStore.getCourseWithId(this.courseId)}):this.apiProfService.loadData().then(function(){e.profStore.dataLoaded=!0,e.setState({parentCourse:e.profStore.getCourseWithId(e.courseId)})})}},{key:"componentDidUpdate",value:function(){var e=this;this.state.parentCourse.id!==this.props.courseId&&(this.props.profStore.dataLoaded?this.setState({parentCourse:this.profStore.getCourseWithId(this.props.courseId)}):this.apiProfService.loadData().then(function(){e.props.profStore.dataLoaded=!0,e.setState({parentCourse:e.profStore.getCourseWithId(e.props.courseId)})}))}},{key:"render",value:function(){if(!0===this.state.toNewLecture)return s.a.createElement(se.a,{to:{pathname:"/professor/"+this.state.parentCourse.id+"/new",state:{numLects:this.state.numLects}}});if(-1!==this.state.referrerLectureIndex)return s.a.createElement(se.a,{to:"/professor/"+this.state.referrerLectureIndex+"/questions",push:!0});var e=s.a.createElement(Ea,{courseId:this.state.parentCourse.id,profStore:this.profStore,apiProfService:this.apiProfService}),t=s.a.createElement(Oa,{courseId:this.state.parentCourse.id,profStore:this.profStore,apiProfService:this.apiProfService}),a="delete";return this.state.deleteMode&&(e=s.a.createElement(ja,{courseId:this.state.parentCourse.id,profStore:this.profStore,getDeletions:this.getDeletions}),a="done"),s.a.createElement("div",null,s.a.createElement(De.a,{className:this.props.classes.card},s.a.createElement(Ae.a,null,t,s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},s.a.createElement(N.a,{item:!0},s.a.createElement(F.a,{className:this.styles.title,variant:"h6",color:"inherit"},"List of Lectures")),s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:a,placement:"top-start"},s.a.createElement($.a,{color:"secondary",onClick:this.handleDelete.bind(this)},"delete"===a?s.a.createElement(Rt.a,null):s.a.createElement(Re.a,null)))),s.a.createElement(N.a,{item:!0},s.a.createElement(Le.a,{onClick:this.handleNewLectureClick,color:"primary"},s.a.createElement(Mt.a,{className:this.styles.icon,color:"primary"},"add_circle"),"Add Lecture"))))),e)),s.a.createElement(Ut.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},"Are you sure you want to delete the following lecture(s): "),s.a.createElement(Ht.a,null,this.state.delTitles.map(function(e,t){return s.a.createElement(Zt.a,{key:t,id:"alert-dialog-description"},e)})),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,autoFocus:!0,color:"secondary"},"no"),s.a.createElement(Le.a,{onClick:this.handleFinalDeletion,color:"secondary"},"yes"))))}}]),t}(s.a.Component))||vt,Ia=Object(y.withStyles)(function(e){return{card:{minWidth:275},icon:{margin:e.spacing.unit},title:{margin:e.spacing.unit}}})(ka),qa=Object(g.b)("profStore")(Et=Object(g.c)(Et=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).styles=e.classes,a.profStore=e.profStore,a.apiProfService=new _e(a.profStore),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(Ia,{profStore:this.profStore,apiProfService:this.apiProfService,courseId:this.props.match.params.courseId})}}]),t}(s.a.Component))||Et)||Et,xa=Object(y.withStyles)(function(e){return{}})(qa),Qa=a(68),La=a.n(Qa),Na=a(199);var Da,Ta,Aa,Pa,Va,Fa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={open:!1,toNewMCQuestion:!1,toNewFreeTextQuestion:!1,toNewSliderQuestion:!1,lectureId:null},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleMC=function(){a.setState({open:!1,toNewMCQuestion:!0})},a.handleFreeText=function(){a.setState({open:!1,toNewFreeTextQuestion:!0})},a.handleSlider=function(){a.setState({open:!1,toNewSliderQuestion:!0})},a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return!0===this.state.toNewMCQuestion?s.a.createElement(se.a,{to:"/professor/"+this.props.lectureId+"/questions/new-mc",push:!0}):!0===this.state.toNewFreeTextQuestion?s.a.createElement(se.a,{to:"/professor/"+this.props.lectureId+"/questions/new-free-text",push:!0}):!0===this.state.toNewSliderQuestion?s.a.createElement(se.a,{to:"/professor/"+this.props.lectureId+"/questions/new-slider",push:!0}):s.a.createElement("div",null,s.a.createElement(Le.a,{onClick:this.handleOpen,color:"primary"},s.a.createElement(Mt.a,{className:this.styles.icon,color:"primary"},"add_circle"),"Add Question"),s.a.createElement(Ze.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},s.a.createElement("div",{style:{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:e.paper},s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center"},s.a.createElement(N.a,{item:!0},s.a.createElement($.a,{className:e.button,"aria-label":"multiple choice",onClick:this.handleMC},s.a.createElement("div",{className:e.vert},s.a.createElement(Na.b,{color:"primary",fontSize:"large"}),s.a.createElement(F.a,null,"Multiple Choice")))),s.a.createElement(N.a,{item:!0},s.a.createElement($.a,{className:e.button,"aria-label":"free text",onClick:this.handleFreeText},s.a.createElement("div",{className:e.vert},s.a.createElement(Na.a,{color:"primary",fontSize:"large"}),s.a.createElement(F.a,null,"Free Text")))),s.a.createElement(N.a,{item:!0},s.a.createElement($.a,{className:e.button,"aria-label":"slider",onClick:this.handleSlider},s.a.createElement("div",{className:e.vert},s.a.createElement(Mt.a,{color:"primary",fontSize:"large"},"linear_scale"),s.a.createElement(F.a,null,"Slider"))))))))}}]),t}(s.a.Component),Ma=Object(y.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},dense:{marginTop:19},menu:{width:200},vert:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},icon:{margin:e.spacing.unit}}})(Fa),Wa=La()(fe),Ra=Object(g.b)("apiService")(Da=Object(g.b)("profStore")(Da=Object(g.c)(Da=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={isOpen:!1,questionId:""},a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({isOpen:this.props.open,questionId:this.props.questionId})}},{key:"componentWillReceiveProps",value:function(e){e.parentLecture.id!==this.props.parentLecture.id?this.setState({isOpen:e.open,questionId:e.questionId}):(void 0!==e.recentlyOpenedId&&(e.recentlyOpenedId!==this.state.questionId||this.state.isOpen||(this.props.handleToUpdate(!0),this.setState({isOpen:!0}))),void 0!==e.recentlyClosedId&&e.recentlyClosedId===this.state.questionId&&this.state.isOpen&&(this.props.handleToUpdate(!1),this.setState({isOpen:!1})))}},{key:"handleBtnClick",value:function(){this.state.isOpen?(console.log("closing question in button"),this.props.apiService.closeQuestion(this.props.questionId,this.props.parentLecture.id),this.props.handleToUpdate(!1),this.props.handleListClose(this.props.questionId),this.setState({isOpen:!1})):(console.log("openeint the quesiton in button"),this.props.apiService.openQuestion(this.props.questionId,this.props.parentLecture.id),Wa.emit("subscribe professor",this.props.questionId),this.props.handleClick(this.props.questionId),this.props.handleToUpdate(!0),this.setState({isOpen:!0}))}},{key:"render",value:function(){var e=this;return s.a.createElement(W.a,{in:!this.props.parentLecture.scheduled},s.a.createElement(Le.a,{variant:"outlined",color:"primary",onClick:function(){return e.handleBtnClick()},className:this.styles.startLectureBtn},this.state.isOpen?"Close":"Open"))}}]),t}(s.a.Component))||Da)||Da)||Da,Ba=Object(y.withStyles)(function(e){return{startLectureBtn:{float:"right"}}})(Ra),Ua=a(162),za=a.n(Ua),Ya=a(96),Ga=a(77),Ha=a.n(Ga),$a=a(156),Za=Object(g.c)(Ta=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).styles=e.classes,a.state={time:0,isOn:!1,questionTitle:"",hidden:e.hidden},a.startTimer=a.startTimer.bind(Object(la.a)(Object(la.a)(a))),a.stopTimer=a.stopTimer.bind(Object(la.a)(Object(la.a)(a))),a.resetTimer=a.resetTimer.bind(Object(la.a)(Object(la.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({hidden:this.props.hidden})}},{key:"startTimer",value:function(){var e=this;this.setState({isOn:!0}),this.timer=setInterval(function(){return e.setState({time:Date.now()-new Date(e.props.question.opened_at)})},1)}},{key:"stopTimer",value:function(){this.setState({isOn:!1}),clearInterval(this.timer)}},{key:"resetTimer",value:function(){this.setState({isOn:!1})}},{key:"componentDidUpdate",value:function(){this.props.timer&&(this.props.hidden||this.state.isOn?this.props.hidden&&0!==this.state.time&&this.state.isOn&&(this.stopTimer(),this.resetTimer()):this.startTimer()),this.props.questionTitle!==this.state.questionTitle&&this.setState({questionTitle:this.props.questionTitle}),this.props.hidden!==this.state.hidden&&this.setState({hidden:this.props.hidden})}},{key:"componentWillUnmount",value:function(){this.stopTimer(),this.resetTimer(),this.setState({hidden:!0})}},{key:"render",value:function(){return s.a.createElement(De.a,{className:this.styles.card,hidden:this.state.hidden},s.a.createElement(Ae.a,null,s.a.createElement(F.a,{variant:"h6",color:"inherit"},"Statistics for ",this.props.questionTitle),this.props.timer?s.a.createElement(F.a,{variant:"subtitle2",color:"inherit",hidden:!this.props.timer},s.a.createElement(Ha.a,{className:this.styles.icon})," Open for ",this.state.time<1e3?"0s":$a(this.state.time,{secDecimalDigits:0})):null,this.props.children,s.a.createElement(F.a,{variant:"body1",color:"inherit"},"Total Responses: ",this.props.responsesNumber)))}}]),t}(s.a.Component))||Ta,Ja=Object(y.withStyles)(function(e){return{card:{marginBottom:10},icon:{fontSize:12}}})(Za),Ka=La()(fe),Xa=Object(g.b)("profStore")(Aa=Object(g.b)("apiService")(Aa=Object(g.c)(Aa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).styles=e.classes,a.state={question:{id:0},data:{},responsesNumber:0,update:!1,override:!0},Ya.b.global.legend.display=!1,Ya.b.global.tooltips.enabled=!1,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.setState({override:this.props.override}),this.state.question.id!==this.props.selectedQuestionId&&0!==this.props.selectedQuestionId){var t=this.props.profStore.getQuestionWithId(this.props.parentLecture,this.props.selectedQuestionId);Ka.emit("subscribe professor",t.id);for(var a=[],n=0;n<t.number_of_options;n++){var s=t["option"+(n+1)];s.length>10&&(s="Option "+(n+1)),a.push(s)}this.setState({question:t,data:{labels:a}})}this.state.question.id!==this.props.selectedQuestionId&&0===this.props.selectedQuestionId&&this.setState({question:{id:0,data:{labels:[]}}}),this.props.override?this.props.apiService.loadAnswers(this.props.selectedQuestionId).then(function(t){if(t.question_id===e.props.selectedQuestionId){for(var a=[],n=e.props.profStore.getQuestionWithId(e.props.parentLecture,e.props.selectedQuestionId),s=1;s<=n.number_of_options;s++)a[s-1]=t.answers[s],void 0===t.answers[s]&&(a[s-1]=0);e.setState({data:{datasets:[{label:"Question Statistics",backgroundColor:"#E9C46A",borderColor:"#E9C46A",data:a}]},responsesNumber:t.count,question:n})}}):Ka.on("new results",function(t){if(t.question_id===e.props.selectedQuestionId){for(var a=[],n=e.props.profStore.getQuestionWithId(e.props.parentLecture,e.props.selectedQuestionId),s=1;s<=n.number_of_options;s++)a[s-1]=t.answers[s],void 0===t.answers[s]&&(a[s-1]=0);e.setState({data:{datasets:[{label:"Question Statistics",backgroundColor:"#E9C46A",borderColor:"#E9C46A",data:a}]},responsesNumber:t.count,question:n})}})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.profStore.getQuestionWithId(e.parentLecture,e.selectedQuestionId);if(this.setState({question:a,override:e.override}),this.state.question.id!==e.selectedQuestionId&&0!==e.selectedQuestionId){Ka.emit("subscribe professor",a.id);for(var n=[],s=0;s<a.number_of_options;s++){var i=a["option"+(s+1)];i.length>10&&(i="Option "+(s+1)),n.push(i)}this.setState({data:{labels:n}})}this.state.question.id!==e.selectedQuestionId&&0===e.selectedQuestionId&&this.setState({question:{id:0,data:{labels:[]}}}),e.override?e.apiService.loadAnswers(e.selectedQuestionId).then(function(n){if(n.question_id===e.selectedQuestionId){for(var s=[],i=1;i<=a.number_of_options;i++)s[i-1]=n.answers[i],void 0===n.answers[i]&&(s[i-1]=0);for(var r=[],o=0;o<a.number_of_options;o++){var l=a["option"+(o+1)];l.length>10&&(l="Option "+(o+1)),r.push(l)}t.setState({data:{datasets:[{label:"Question Statistics",backgroundColor:"#E9C46A",borderColor:"#E9C46A",data:s}],labels:r},responsesNumber:n.count})}}):Ka.on("new results",function(n){if(n.question_id===e.selectedQuestionId){for(var s=[],i=1;i<=a.number_of_options;i++)s[i-1]=n.answers[i],void 0===n.answers[i]&&(s[i-1]=0);for(var r=[],o=0;o<a.number_of_options;o++){var l=a["option"+(o+1)];l.length>10&&(l="Option "+(o+1)),r.push(l)}t.setState({data:{datasets:[{label:"Question Statistics",backgroundColor:"#E9C46A",borderColor:"#E9C46A",data:s}],labels:r},responsesNumber:n.count})}})}},{key:"componentWillUnmount",value:function(){this.state.override||Ka.removeAllListeners("new results")}},{key:"render",value:function(){var e={scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(e,t,a){if(Math.floor(e)===e)return e}}}]}};return s.a.createElement(Ja,{question:this.state.question,responsesNumber:this.state.responsesNumber,timer:!this.state.override,questionTitle:this.state.question.question_title,hidden:!this.state.override&&!this.state.question.is_open},s.a.createElement(Ya.a,{key:this.props.selectedQuestionId,data:this.state.data,options:e}))}}]),t}(s.a.Component))||Aa)||Aa)||Aa,en=a(115),tn=a.n(en),an=a(117),nn=a.n(an),sn=a(46),rn=a.n(sn),on=a(116),ln=a.n(on),cn=a(71),un=a.n(cn),dn=La()(fe),pn=Object(g.b)("profStore")(Pa=Object(g.b)("apiService")(Pa=Object(g.c)(Pa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).styles=e.classes,a.state={question:{id:0},responsesNumber:0,responses:{},override:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.profStore.getQuestionWithId(this.props.parentLecture,this.props.selectedQuestionId);this.setState({override:this.props.override,question:t}),this.state.question.id!==this.props.selectedQuestionId&&0!==this.props.selectedQuestionId&&dn.emit("subscribe professor",t.id),this.props.override?this.props.apiService.loadAnswers(this.props.selectedQuestionId).then(function(t){t.question_id===e.props.selectedQuestionId&&e.setState({responsesNumber:t.count,responses:t.answers})}):dn.on("new results",function(t){t.question_id===e.props.selectedQuestionId&&e.setState({responsesNumber:t.count,responses:t.answers})})}},{key:"componentWillReceiveProps",value:function(e){var t=e.profStore.getQuestionWithId(e.parentLecture,e.selectedQuestionId);this.setState({override:e.override,question:t})}},{key:"componentWillUnmount",value:function(){this.state.override||dn.removeAllListeners("new results")}},{key:"render",value:function(){var e=this;return s.a.createElement(Ja,{question:this.state.question,responsesNumber:this.state.responsesNumber,timer:!this.state.override,questionTitle:this.state.question.question_title,hidden:!this.state.override&&!this.state.question.is_open},s.a.createElement(tn.a,null,s.a.createElement(ln.a,null,s.a.createElement(un.a,null,s.a.createElement(rn.a,null,"Response"),s.a.createElement(rn.a,{align:"right"},"Frequency"))),s.a.createElement(nn.a,null,Object.keys(this.state.responses).map(function(t,a){return s.a.createElement(un.a,{key:a},s.a.createElement(rn.a,{component:"th",scope:"row"},t),s.a.createElement(rn.a,{align:"right"},e.state.responses[t]))}))))}}]),t}(s.a.Component))||Pa)||Pa)||Pa,hn=La()(fe),mn=Object(g.b)("profStore")(Va=Object(g.b)("apiService")(Va=Object(g.c)(Va=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).styles=e.classes,a.state={question:{id:0},data:{},responsesNumber:0,override:!1},Ya.b.global.legend.display=!1,Ya.b.global.tooltips.enabled=!1,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(0!==this.props.selectedQuestionId){var t=this.props.profStore.getQuestionWithId(this.props.parentLecture,this.props.selectedQuestionId);this.setState({question:t})}if(this.state.question.id!==this.props.selectedQuestionId)if(0!==this.props.selectedQuestionId){var a=this.props.profStore.getQuestionWithId(this.props.parentLecture,this.props.selectedQuestionId);hn.emit("subscribe professor",a.id),this.updateChartLabels(a)}else this.setState({question:{id:0,data:{labels:[]}}});this.props.override?this.props.apiService.loadAnswers(this.props.selectedQuestionId).then(function(t){t.question_id===e.props.selectedQuestionId&&e.updateChartData(t.answers,t.count)}):hn.on("new results",function(t){t.question_id===e.props.selectedQuestionId&&e.updateChartData(t.answers,t.count)}),this.setState({override:this.props.override})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.profStore.getQuestionWithId(e.parentLecture,e.selectedQuestionId);this.setState({override:e.override,question:a}),a.id===this.state.question.id&&(this.state.question.id!==e.selectedQuestionId&&(0!==e.selectedQuestionId?(hn.emit("subscribe professor",a.id),this.updateChartLabels(a)):this.setState({question:{id:0,data:{labels:[]}}})),e.override?e.apiService.loadAnswers(e.selectedQuestionId).then(function(a){a.question_id===e.selectedQuestionId&&t.updateChartData(a.answers,a.count)}):hn.on("new results",function(a){a.question_id===e.selectedQuestionId&&t.updateChartData(a.answers,a.count)}))}},{key:"updateChartLabels",value:function(e){for(var t=[],a=0;a<=100;a++)a%10===0?t.push(a):t.push("");this.setState({question:e,data:{labels:t}})}},{key:"updateChartData",value:function(e,t){this.setState({data:{datasets:[{label:"Question Statistics",backgroundColor:"#E9C46A",borderColor:"#E9C46A",data:e}]},responsesNumber:t})}},{key:"componentWillUnmount",value:function(){this.state.override||hn.removeAllListeners("new results")}},{key:"render",value:function(){var e={scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(e,t,a){if(Math.floor(e)===e)return e}}}]}};return s.a.createElement(Ja,{question:this.state.question,responsesNumber:this.state.responsesNumber,timer:!this.state.override,questionTitle:this.state.question.question_title,hidden:!this.state.override&&!this.state.question.is_open},s.a.createElement(Ya.a,{key:this.props.selectedQuestionId,data:this.state.data,options:e}))}}]),t}(s.a.Component))||Va)||Va)||Va;var fn,bn,gn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={open:!1,question:{id:0}},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props.classes;return"multiple_choice"===this.props.question.question_type?e=s.a.createElement(Xa,{key:this.props.index,parentLecture:this.props.parentLecture,selectedQuestionId:this.props.question.id,override:!0}):"free_text"===this.props.question.question_type?e=s.a.createElement(pn,{key:this.props.index,parentLecture:this.props.parentLecture,selectedQuestionId:this.props.question.id,override:!0}):"slider"===this.props.question.question_type&&(e=s.a.createElement(mn,{key:this.props.index,parentLecture:this.props.parentLecture,selectedQuestionId:this.props.question.id,override:!0})),s.a.createElement("div",null,s.a.createElement($.a,{color:"secondary",onClick:this.handleOpen},s.a.createElement(za.a,null)),s.a.createElement(Ze.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},s.a.createElement("div",{style:{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:t.paper},e)))}}]),t}(s.a.Component),yn=Object(y.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper}}})(gn),vn=function e(t,a,n,s,i,r,o,c,u,d,p,h,m,f){Object(l.a)(this,e),this.id=t,this.lecture_id=a,this.question_type=n,this.question_title=s,this.question_image=i,this.correct_answer=r,this.creator_id=o,this.is_open=c,this.opened_at=d,this.closed_at=p,this.created_at=h,this.modified_at=m,this.answer=f,this.scheduled=u},En=function(e){function t(e,a,n,s,i,r,o,c,p,h,m,f,b,g,y,v,E,w,S,_){var O;return Object(l.a)(this,t),(O=Object(u.a)(this,Object(d.a)(t).call(this,e,a,n,s,i,r,o,c,p,h,m,f,b,g))).option1=y,O.option2=v,O.option3=E,O.option4=w,O.option5=S,O.number_of_options=_,O}return Object(p.a)(t,e),t}(vn),wn=function(e){function t(e,a,n,s,i,r,o,c,p,h,m,f,b,g,y,v){var E;return Object(l.a)(this,t),(E=Object(u.a)(this,Object(d.a)(t).call(this,e,a,n,s,i,r,o,c,p,h,m,f,b,g))).lower_label=y,E.upper_label=v,E}return Object(p.a)(t,e),t}(vn),Sn=function(e){function t(e,a,n,s,i,r,o,c,p,h,m,f,b,g,y){var v;return Object(l.a)(this,t),(v=Object(u.a)(this,Object(d.a)(t).call(this,e,a,n,s,i,r,o,c,p,h,m,f,b,g))).word_limit=y,v}return Object(p.a)(t,e),t}(vn),_n=Object(g.c)(fn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={open:!1,title:"",correct_answer:"",error:"",titleValid:!0,question_image:""},a.handleClose=function(){a.setState({open:!1})},a.handleChange=function(e){return function(t){var n=t.target.value;a.setState(Object(b.a)({},e,n),function(){a.handleValidation(e,n)})}},a.handleOpen=function(){a.setState({open:!0})},a.handleSubmit=function(e){e.preventDefault(),a.state.titleValid&&a.props.getEdits(new Sn(a.props.questionObj.id,a.props.questionObj.lecture_id,"free_text",a.state.title,a.state.question_image,a.state.correct_answer,a.props.questionObj.creator_id,a.props.questionObj.is_open,a.props.questionObj.scheduled,a.props.questionObj.opened_at,a.props.questionObj.closed_at,a.props.questionObj.created_at,null,null,a.props.questionObj.word_limit)),a.handleClose()},a.removeImage=function(){a.setState({question_image:""})},a.encodeImageFileAsURL=function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(){console.log("RESULT",n.result),a.setState({question_image:n.result})},n.onloadend=n.onloadend.bind(Object(la.a)(Object(la.a)(a))),n.readAsDataURL(t)},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=new _e(a.profStore),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){null!==this.props.questionObj.correct_answer?this.setState({title:this.props.questionObj.question_title,question_image:this.props.questionObj.question_image,correct_answer:this.props.questionObj.correct_answer}):this.setState({title:this.props.questionObj.question_title,question_image:this.props.questionObj.question_image})}},{key:"handleValidation",value:function(){""===this.state.title?this.setState({error:"This field is required",titleValid:!1}):this.setState({error:"",titleValid:!0})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Le.a,{variant:"outlined",onClick:this.handleOpen,disabled:this.props.is_open},"Edit"),s.a.createElement(Ut.a,{fullWidth:!0,open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},"Edit Free Text Question"),s.a.createElement(Ht.a,null,s.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},s.a.createElement(N.a,{container:!0,direction:"column",justify:"center"},s.a.createElement(N.a,{item:!0},s.a.createElement(it.a,{required:!0,fullWidth:!0,error:!this.state.titleValid&&!(""===this.state.error),label:"Question Title",value:this.state.title,onChange:this.handleChange("title"),margin:"normal",helperText:this.state.error})),s.a.createElement(N.a,{item:!0},s.a.createElement(it.a,{fullWidth:!0,label:"Correct Answer",value:this.state.correct_answer,onChange:this.handleChange("correct_answer"),margin:"normal"})))),s.a.createElement(W.a,{in:this.state.question_image,timeout:"auto",unmountOnExit:!0},s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"},"Image Preview")),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement("img",{src:this.state.question_image,height:300,alt:"Preview Unavailable"}))),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(N.a,{container:!0,direction:"row"},s.a.createElement(N.a,{item:!0,className:this.styles.buttonItem},s.a.createElement(Le.a,{variant:"contained",component:"label"},this.state.question_image?"Update Image":"Upload Image",s.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.encodeImageFileAsURL}))),s.a.createElement(W.a,{in:this.state.question_image,timeout:"auto",unmountOnExit:!0},s.a.createElement(N.a,{item:!0,className:this.styles.buttonItem},s.a.createElement(Le.a,{variant:"contained",component:"label",onClick:this.removeImage},"Remove Image")))))),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,autoFocus:!0,color:"secondary"},"cancel"),s.a.createElement(Le.a,{onClick:this.handleSubmit,color:"secondary",disabled:!this.state.titleValid},"submit"))))}}]),t}(s.a.Component))||fn,On=Object(y.withStyles)(function(e){return{button:{color:e.palette.secondary.main},item:{paddingBottom:e.spacing.unit},buttonItem:{paddingRight:e.spacing.unit},icon:{margin:e.spacing.unit}}})(_n),Cn=a(133),jn=a.n(Cn),kn=a(134),In=a.n(kn);function qn(e){if(e.length<2)return!1;var t=!0,a=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0)for(var r=s.value,o=Object.values(r),l=0;l<o.length;l++){var c=o[l];if(void 0===c)return!1;if(""===c.replace(/^\s+|\s+$/g,""))return!1}}catch(u){a=!0,n=u}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return!0}var xn,Qn,Ln,Nn,Dn,Tn,An=Object(g.c)(bn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={open:!1,title:"",correct_answer:"",number_of_options:"",question_image:"",options:[],answer_choices:{option1:"",option2:"",option3:"",option4:"",option5:""},checked:{option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},should_delete:{option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},titleError:"",formValid:!0,titleValid:!0,hasAnswers:!0,optionsValid:!0,delete_mode:!1,deleteDisabled:!1,deleteConfirmDisabled:!1},a.handleClose=function(){a.setState({open:!1})},a.handleOption=function(e){return function(t){var n=Object.keys(e)[0],s=a.state.answer_choices,i=a.state.options;s[n]=t.target.value,i.find(function(e){return Object.keys(e)[0]===n})[n]=t.target.value,a.setState({answer_choices:s,options:i},function(){a.validateFields("answer_choices",i)})}},a.handleSetNumberOfOptions=function(e){return function(t){for(var n=[],s=a.state.answer_choices,i=t.target.value<=2,r=1;r<=t.target.value;r++){var o="option"+r.toString();n.push(Object(b.a)({},o,a.state.answer_choices[o]))}if(t.target.value<a.state.number_of_options)for(var l=t.target.value+1;l<=5;l++){s["option"+l.toString()]=""}a.setState({answer_choices:s,number_of_options:t.target.value,options:n,deleteDisabled:i},function(){a.validateFields(e,n)})}},a.handleDeleteQueue=function(e){return function(t){var n=a.state.should_delete;t.target.checked?n[e]=!0:n[e]=!1;for(var s=0,i=Object.keys(n),r=0;r<i.length;r++){n[i[r]]||s++}s-=5-a.state.number_of_options,a.setState({should_delete:n,deleteConfirmDisabled:s<2})}},a.handleCheck=function(e){return function(t){var n=Object.keys(e)[0],s=a.state.checked,i=n;s[n]=t.target.checked,a.state.correct_answer===n&&(s[n]=!1,i=""),a.setState({correct_answer:i,checked:s})}},a.handleChange=function(e){return function(t){var n=t.target.value;a.setState(Object(b.a)({},e,n),function(){a.validateFields(e,n)})}},a.handleOpen=function(){a.setState({open:!0})},a.handleSubmit=function(e){if(e.preventDefault(),a.state.formValid){var t="";""!==a.state.correct_answer&&null!==a.state.correct_answer&&(t=a.state.correct_answer.substring(6,7)),a.state.formValid&&a.props.getEdits(new En(a.props.questionObj.id,a.props.questionObj.lecture_id,"multiple_choice",a.state.title,a.state.question_image,t,a.props.questionObj.creator_id,a.props.questionObj.is_open,a.props.questionObj.scheduled,a.props.questionObj.opened_at,a.props.questionObj.closed_at,a.props.questionObj.created_at,a.props.questionObj.modified_at,a.props.questionObj.answer,a.state.answer_choices.option1,a.state.answer_choices.option2,a.state.answer_choices.option3,a.state.answer_choices.option4,a.state.answer_choices.option5,a.state.number_of_options)),a.handleClose()}},a.removeImage=function(){a.setState({question_image:""})},a.encodeImageFileAsURL=function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(){console.log("RESULT",n.result),a.setState({question_image:n.result})},n.onloadend=n.onloadend.bind(Object(la.a)(Object(la.a)(a))),n.readAsDataURL(t)},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=new _e(a.profStore),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){for(var e={},t=this.state.checked,a=this.props.questionObj.correct_answer,n=Number(this.props.questionObj.number_of_options),s=[],i=1;i<=n;i++){var r="option"+i.toString();e[r]=this.props.questionObj[r],s.push(Object(b.a)({},r,e[r]))}null!==a&&(t[a="option"+a]=!0),this.setState({title:this.props.questionObj.question_title,question_image:this.props.questionObj.question_image,correct_answer:a,number_of_options:n,answer_choices:e,checked:t,options:s})}},{key:"handleDelete",value:function(){for(var e=this,t=this.state.answer_choices,a=this.state.number_of_options,n=[],s="",i={option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},r=Object.keys(this.state.should_delete),o=0;o<r.length;o++){var l=r[o];this.state.should_delete[l]&&a--}if(a<2)this.setState({should_delete:{option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},delete_mode:!1});else{for(var c=1,u=Object.keys(t),d=0;d<u.length;d++){var p=u[d];if(!this.state.should_delete[p]){var h="option"+c.toString();if(n.push(Object(b.a)({},h,t[p])),p===this.state.correct_answer&&(s=h),++c>a)break}}t={option1:"",option2:"",option3:"",option4:"",option5:""},n.map(function(e){return t[Object.keys(e)[0]]=Object.values(e)[0]}),""!==s&&null!==s&&(i[s]=!0),this.setState({should_delete:{option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},answer_choices:t,correct_answer:s,checked:i,number_of_options:a,delete_mode:!1,options:n,deleteDisabled:a<=2},function(){e.validateFields("answer_choices",n)})}}},{key:"validateFields",value:function(e,t){var a=this.state.titleValid,n=this.state.errors,s=this.state.hasAnswers,i=this.state.optionsValid,r=this.state.titleError;switch(e){case"title":""===t?(r="This field is required",a=!1):(r="",a=!0);break;case"number_of_options":s=!0,i=qn(t);break;case"answer_choices":i=qn(t)}this.setState({errors:n,titleValid:a,titleError:r,hasAnswers:s,optionsValid:i},this.validateForm)}},{key:"validateForm",value:function(){var e=""!==this.state.title.replace(/^\s+|\s+$/g,"");e||this.setState({titleValid:!1}),this.setState({formValid:e&&this.state.hasAnswers&&this.state.optionsValid})}},{key:"setDeleteMode",value:function(){var e=!this.state.delete_mode;this.setState({delete_mode:e})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Le.a,{variant:"outlined",onClick:this.handleOpen,disabled:this.props.is_open},"Edit"),s.a.createElement(Ut.a,{fullWidth:!0,scroll:"paper",open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},"Edit Multiple Choice Question"),s.a.createElement(Ht.a,null,s.a.createElement(N.a,{container:!0,direction:"column",justify:"center"},s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement("form",{className:this.styles.container,onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},s.a.createElement(it.a,{required:!0,fullWidth:!0,error:!this.state.titleValid,id:"standard-name",label:"Question Title",value:this.state.title,onChange:this.handleChange("title"),margin:"normal",helperText:this.state.titleError}))),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement("form",{autoComplete:"off"},s.a.createElement(He.a,null,s.a.createElement(jn.a,{htmlFor:"number-options"},"number of answer choices"),s.a.createElement(In.a,{value:this.state.number_of_options,onChange:this.handleSetNumberOfOptions("number_of_options"),className:this.styles.select,disabled:this.state.delete_mode,inputProps:{name:"number_of_options",id:"number-options"}},s.a.createElement(le.a,{value:2},"2"),s.a.createElement(le.a,{value:3},"3"),s.a.createElement(le.a,{value:4},"4"),s.a.createElement(le.a,{value:5},"5"))))),this.state.hasAnswers&&s.a.createElement(N.a,{item:!0},s.a.createElement(tn.a,null,s.a.createElement(ln.a,null,s.a.createElement(un.a,null,this.state.delete_mode?s.a.createElement(rn.a,null," Delete?"):s.a.createElement(rn.a,null,"Correct Answer?"),s.a.createElement(rn.a,null,"Answer Choices"))),s.a.createElement(nn.a,null,this.state.delete_mode?this.state.options.map(function(t,a){return s.a.createElement(un.a,{key:a},s.a.createElement(rn.a,null,s.a.createElement(Lt.a,{checked:e.state.should_delete[Object.keys(t)[0]],onChange:e.handleDeleteQueue(Object.keys(t)[0]),value:Object.keys(t)[0]})),s.a.createElement(rn.a,null,s.a.createElement(F.a,{variant:"body1",align:"justify"}," ",e.state.answer_choices[Object.keys(t)[0]])))}):this.state.options.map(function(t,a){return s.a.createElement(un.a,{key:a},s.a.createElement(rn.a,null,s.a.createElement(Lt.a,{checked:e.state.correct_answer===Object.keys(t)[0],onChange:e.handleCheck(t),value:Object.keys(t)[0]})),s.a.createElement(rn.a,{align:"right"},s.a.createElement(He.a,null,s.a.createElement(Ye.a,{multiline:!0,id:"bootstrap-input",name:Object.keys(t)[0],value:e.state.answer_choices[Object.keys(t)[0]],onChange:e.handleOption(t),classes:{input:e.styles.bootstrapInput}}))))}))),s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},this.state.delete_mode?s.a.createElement($.a,{color:"secondary",onClick:this.handleDelete.bind(this),disabled:this.state.deleteConfirmDisabled},s.a.createElement(Re.a,{className:this.styles.iconDone})):s.a.createElement($.a,{onClick:this.setDeleteMode.bind(this),color:"secondary",disabled:this.state.deleteDisabled},s.a.createElement(Rt.a,null)))),s.a.createElement(W.a,{in:this.state.question_image,timeout:"auto",unmountOnExit:!0},s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"},"Image Preview")),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement("img",{src:this.state.question_image,height:300,alt:"Preview Unavailable"}))),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(N.a,{container:!0,direction:"row"},s.a.createElement(N.a,{item:!0,className:this.styles.buttonItem},s.a.createElement(Le.a,{variant:"contained",component:"label"},this.state.question_image?"Update Image":"Upload Image",s.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.encodeImageFileAsURL}))),s.a.createElement(W.a,{in:this.state.question_image,timeout:"auto",unmountOnExit:!0},s.a.createElement(N.a,{item:!0,className:this.styles.buttonItem},s.a.createElement(Le.a,{variant:"contained",component:"label",onClick:this.removeImage},"Remove Image"))))))),s.a.createElement(Yt.a,null,s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement(Le.a,{onClick:this.handleClose,type:"button",autoFocus:!0,color:"secondary"},"Cancel"),s.a.createElement(Le.a,{onClick:this.handleSubmit,type:"submit",color:"secondary",disabled:!this.state.formValid},"Submit")))))}}]),t}(s.a.Component))||bn,Pn=Object(y.withStyles)(function(e){return{button:{color:e.palette.secondary.main},select:{width:200},icon:{margin:e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},item:{paddingBottom:e.spacing.unit},buttonItem:{paddingRight:2*e.spacing.unit},bootstrapInput:{borderRadius:4,backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:12,padding:"10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}})(An),Vn=a(121),Fn=a.n(Vn),Mn=a(56),Wn=a.n(Mn),Rn=a(79),Bn=a.n(Rn),Un=a(93),zn=a.n(Un),Yn=[{value:"=",label:"="},{value:"<",label:"<"},{value:">",label:">"},{value:"<=",label:"<="},{value:">=",label:">="}],Gn=[{value:"<",label:"<"},{value:">",label:">"},{value:"<=",label:"<="},{value:">=",label:">="}],Hn=Object(g.c)(xn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={open:!1,title:"",titleError:"",question_image:"",labels:{lower:"0%",upper:"100%"},answer_bounds:{upper:"",lower:""},range:!1,rangeVal:"not_range",equality_operators:{upper:"",lower:""},slider_value:50,has_correct_answer:!1,custom_labels:!1,fieldsValid:{title:!0,lower_label:!0,upper_label:!0,lower_bound:!0,upper_bound:!0,equality_operators:!0},disabled:!1},a.handleClose=function(){a.setState({open:!1})},a.setCorrectAnswer=function(e){return function(t){t.target.checked||a.setState({answer_bounds:{upper:"",lower:""},equality_operators:{upper:"",lower:""},range:!1,rangeVal:"not_range"}),a.setState(Object(b.a)({},e,t.target.checked),function(){a.validateBoundsAndOperators()})}},a.setCustomLabels=function(e){return function(t){if(!t.target.checked){var n=a.state.fieldsValid;n.lower_label=!0,n.upper_label=!0,a.setState({fieldsValid:n,labels:{upper:"100%",lower:"0%"},custom_labels:!1})}a.setState(Object(b.a)({},e,t.target.checked)),a.validateAnswers()}},a.setCorrectBounds=function(e){return function(t){var n=a.state.answer_bounds,s=t.target.value;n[e]=s,s<0&&(s=0),s>100&&(s=100),Number.isInteger(s)||(s=Math.round(s)),a.setState({answer_bounds:n},function(){a.validateBoundsAndOperators()})}},a.handleEqualityOperator=function(e){return function(t){var n=a.state.equality_operators;n[e]=t.target.value,a.setState({equality_operators:n},function(){a.validateBoundsAndOperators()})}},a.handleTitleChange=function(e){return function(e){var t=e.target.value;a.setState({title:t},function(){a.validateTitle(t)})}},a.handleLabelsChange=function(e){return function(t){var n=t.target.value,s=a.state.labels;s[e]=t.target.value,a.setState({labels:s},function(){a.handleLabelsValidation(e,n)})}},a.handleSliderChange=function(e,t){a.setState({slider_value:t})},a.handleSetRange=function(e){var t=!0;"not_range"===e.target.value&&(t=!1),a.setState({rangeVal:e.target.value,range:t})},a.handleOpen=function(){a.setState({open:!0})},a.handleSubmit=function(e){if(e.preventDefault(),!a.state.disabled){var t="";if(""!==a.state.answer_bounds.lower)if(a.state.range){var n=a.state.answer_bounds,s=a.state.equality_operators;if(Number(n.lower)>Number(n.upper)){var i=n.lower;n.lower=n.upper,n.upper=i;var r=a.state.equality_operators,o=a.state.equality_operators.lower;r.lower=r.upper,r.upper=o}t=s.lower+" "+n.lower.toString()+" "+a.getOperatorCondition(s.lower)+" "+s.upper+" "+n.upper.toString()}else t=a.state.equality_operators.lower+" "+a.state.answer_bounds.lower.toString();a.state.disabled||a.props.getEdits(new wn(a.props.questionObj.id,a.props.questionObj.lecture_id,"slider",a.state.title,a.state.question_image,t,a.props.questionObj.creator_id,a.props.questionObj.is_open,a.props.questionObj.scheduled,a.props.questionObj.opened_at,a.props.questionObj.closed_at,a.props.questionObj.created_at,null,null,a.state.labels.lower,a.state.labels.upper)),a.handleClose()}},a.removeImage=function(){a.setState({question_image:""})},a.encodeImageFileAsURL=function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(){console.log("RESULT",n.result),a.setState({question_image:n.result})},n.onloadend=n.onloadend.bind(Object(la.a)(Object(la.a)(a))),n.readAsDataURL(t)},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=new _e(a.profStore),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.questionObj,t=e.lower_label,a=e.upper_label,n=e.correct_answer;if(this.setState({title:this.props.questionObj.question_title,question_image:this.props.questionObj.question_image}),null!==t&&("0%"===t&&"100%"===a||this.setState({labels:{lower:t,upper:a}})),n){var s=n.split(" ");2===s.length?this.setState({answer_bounds:{lower:s[1],upper:""},equality_operators:{lower:s[0],upper:""}}):this.setState({answer_bounds:{lower:s[1],upper:s[4]},equality_operators:{lower:s[0],upper:s[3]},range:!0,rangeVal:"range"})}}},{key:"validateAnswers",value:function(){var e=!1;if(this.state.custom_labels&&this.state.has_correct_answer)for(var t=Object.keys(this.state.fieldsValid),a=0;a<t.length;a++){var n=t[a];this.state.fieldsValid[n]||(e=!0)}else this.state.custom_labels?this.state.fieldsValid.lower_label&&this.state.fieldsValid.upper_label&&this.state.fieldsValid.title||(e=!0):this.state.has_correct_answer?this.state.fieldsValid.lower_bound&&this.state.fieldsValid.upper_bound&&this.state.fieldsValid.equality_operators||(e=!0):this.state.fieldsValid.title||(e=!0);this.state.fieldsValid.title||(e=!0),this.setState({disabled:e})}},{key:"getOppBound",value:function(e){return"upper_bound"===e?"lower_bound":"upper_bound"}},{key:"getOppSide",value:function(e){return"upper"===e?"lower":"upper"}},{key:"isInRange",value:function(e,t){return""!==e.replace(/^\s+|\s+$/g,"")&&(""!==t.replace(/^\s+|\s+$/g,"")&&(("<"!==e||"0"!==t)&&(">"!==e||"100"!==t)))}},{key:"validateBoundsAndOperators",value:function(){var e=this,t=!0,a=this.state.fieldsValid;if(this.isInRange(this.state.equality_operators.lower,this.state.answer_bounds.lower)||(a.equality_operators=!1,a.lower_bound=!1,t=!1),this.state.range){this.isInRange(this.state.equality_operators.upper,this.state.answer_bounds.upper)||(a.equality_operators=!1,a.upper_bound=!1,t=!1),this.state.answer_bounds.lower===this.state.answer_bounds.upper&&(a.equality_operators=!1,a.lower_bound=!1,t=!1);var n=!0;switch(this.state.equality_operators.lower){case">":case">=":n=">"!==this.state.equality_operators.upper&&">="!==this.state.equality_operators.upper;break;case"<":case"<=":n="<"!==this.state.equality_operators.upper&&"<="!==this.state.equality_operators.upper;break;default:n=!0}a.equality_operators=n&&a.equality_operators,n||(t=!1)}t&&(a={title:this.state.fieldsValid.title,lower_label:!0,upper_label:!0,lower_bound:!0,upper_bound:!0,equality_operators:!0}),this.setState({fieldsValid:a},function(){e.validateAnswers()})}},{key:"validateTitle",value:function(e){var t=this.state.titleError,a=this.state.fieldsValid;""===e.replace(/^\s+|\s+$/g,"")?(t="Required",a.title=!1):(t="",a.title=!0),this.setState({titleError:t,fieldsValid:a}),this.validateAnswers()}},{key:"handleLabelsValidation",value:function(){var e=!1;""!==this.state.labels.upper.replace(/^\s+|\s+$/g,"")&&""!==this.state.labels.lower.replace(/^\s+|\s+$/g,"")&&(e=!0);var t=this.state.fieldsValid;t.lower_label=e,t.upper_label=e,this.setState({fieldsValid:t}),this.validateAnswers()}},{key:"getOperatorCondition",value:function(e){var t=!0;switch(e){case"<":case"<=":t="||";break;case">":case">=":t="&&";break;default:t=!0}return t}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Le.a,{variant:"outlined",onClick:this.handleOpen,disabled:this.props.is_open},"Edit"),s.a.createElement(Ut.a,{fullWidth:!0,open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},"Edit Slider Question"),s.a.createElement(Ht.a,null,s.a.createElement(N.a,{container:!0,justify:"center",className:this.styles.container},s.a.createElement(N.a,{container:!0,direction:"column","align-items":"flex-start"},s.a.createElement(N.a,{item:!0,className:this.styles.entry},s.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit},s.a.createElement(it.a,{required:!0,fullWidth:!0,error:""!==this.state.titleError,id:"standard-name",label:"Question Title",value:this.state.title,onChange:this.handleTitleChange("title"),margin:"normal",helperText:this.state.titleError}))),s.a.createElement(W.a,{in:this.state.question_image,timeout:"auto",unmountOnExit:!0},s.a.createElement(N.a,{item:!0,className:this.styles.entry},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"},"Image Preview")),s.a.createElement(N.a,{item:!0,className:this.styles.entry},s.a.createElement("img",{src:this.state.question_image,height:300,alt:"Preview Unavailable"}))),s.a.createElement(N.a,{item:!0,className:this.styles.entry},s.a.createElement(N.a,{container:!0,direction:"row"},s.a.createElement(N.a,{item:!0,className:this.styles.buttonItem},s.a.createElement(Le.a,{variant:"contained",component:"label"},this.state.question_image?"Update Image":"Upload Image",s.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.encodeImageFileAsURL}))),s.a.createElement(W.a,{in:this.state.question_image,timeout:"auto",unmountOnExit:!0},s.a.createElement(N.a,{item:!0,className:this.styles.buttonItem},s.a.createElement(Le.a,{variant:"contained",component:"label",onClick:this.removeImage},"Remove Image")))))),s.a.createElement(N.a,{container:!0,direction:"column",justify:"flex-start"},s.a.createElement(N.a,{item:!0},s.a.createElement(At.a,{control:s.a.createElement(Fn.a,{checked:this.state.custom_labels,onChange:this.setCustomLabels("custom_labels"),value:this.state.custom_labels}),label:"change/set labels"})),this.state.custom_labels&&s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:24,className:this.styles.entry},s.a.createElement(N.a,{item:!0,xs:12,sm:6},s.a.createElement(it.a,{fullWidth:!0,id:"standard-name",label:"lower label",value:this.state.labels.lower,onChange:this.handleLabelsChange("lower"),margin:"normal"})),s.a.createElement(N.a,{item:!0,xs:12,sm:6},s.a.createElement(it.a,{fullWidth:!0,id:"standard-name",label:"upper label",value:this.state.labels.upper,onChange:this.handleLabelsChange("upper"),margin:"normal"}))))),s.a.createElement(N.a,{container:!0,direction:"column",justify:"space-evenly"},s.a.createElement(N.a,{item:!0},s.a.createElement(At.a,{control:s.a.createElement(Fn.a,{checked:this.state.has_correct_answer,onChange:this.setCorrectAnswer("has_correct_answer"),value:this.state.has_correct_answer}),label:"change/set correct answer"})),this.state.has_correct_answer&&s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row"},s.a.createElement(He.a,{component:"fieldset"},s.a.createElement(zn.a,{name:"rangeVal",value:this.state.rangeVal,onChange:this.handleSetRange},s.a.createElement(At.a,{value:"not_range",name:"not_range",control:s.a.createElement(Bn.a,null),label:"inequality/equality"}),s.a.createElement(At.a,{value:"range",name:"range",control:s.a.createElement(Bn.a,null),label:"set range"}))))),this.state.has_correct_answer&&this.state.range?s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start",className:this.styles.entry,spacing:16},s.a.createElement(N.a,{item:!0,xs:6,sm:3},s.a.createElement(it.a,{select:!0,value:this.state.equality_operators.lower,onChange:this.handleEqualityOperator("lower"),InputProps:{startAdornment:s.a.createElement(Wn.a,{position:"start"},"answer")}},Gn.map(function(e){return s.a.createElement(le.a,{key:e.value,value:e.value},e.label)}))),s.a.createElement(N.a,{item:!0,xs:6,sm:3},s.a.createElement(it.a,{id:"correct answer lower bound",type:"number",value:this.state.answer_bounds.lower,onChange:this.setCorrectBounds("lower"),InputProps:{endAdornment:s.a.createElement(Wn.a,{variant:"filled",position:"end"},"%")}})),s.a.createElement(N.a,{item:!0,xs:6,sm:3},s.a.createElement(it.a,{select:!0,value:this.state.equality_operators.upper,onChange:this.handleEqualityOperator("upper"),InputProps:{startAdornment:s.a.createElement(Wn.a,{position:"start"},"and/or")}},Gn.map(function(e){return s.a.createElement(le.a,{key:e.value,value:e.value},e.label)}))),s.a.createElement(N.a,{item:!0,xs:6,sm:3},s.a.createElement(it.a,{id:"correct answer upper bound",type:"number",value:this.state.answer_bounds.upper,onChange:this.setCorrectBounds("upper"),InputProps:{endAdornment:s.a.createElement(Wn.a,{variant:"filled",position:"end"},"%")}})))):this.state.has_correct_answer&&s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start",className:this.styles.entry},s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start",spacing:24},s.a.createElement(N.a,{item:!0,xs:6},s.a.createElement(it.a,{select:!0,fullWidth:!0,value:this.state.equality_operators.lower,onChange:this.handleEqualityOperator("lower"),InputProps:{startAdornment:s.a.createElement(Wn.a,{position:"start"},"answer")}},Yn.map(function(e){return s.a.createElement(le.a,{key:e.value,value:e.value},e.label)}))),s.a.createElement(N.a,{item:!0,xs:6},s.a.createElement(it.a,{fullWidth:!0,id:"correct answer lower bound",type:"number",value:this.state.answer_bounds.lower,onChange:this.setCorrectBounds("lower"),InputProps:{endAdornment:s.a.createElement(Wn.a,{variant:"filled",position:"end"},"%")}}))))))))),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,autoFocus:!0,color:"secondary"},"cancel"),s.a.createElement(Le.a,{onClick:this.handleSubmit,color:"secondary",disabled:this.state.disabled},"submit"))))}}]),t}(s.a.Component))||xn,$n=Object(y.withStyles)(function(e){return{gridItem:{padding:e.spacing.unit},button:{color:e.palette.secondary.main},icon:{margin:e.spacing.unit},card:{backgroundColor:e.palette.secondary.main,padding:.25*e.spacing.unit,marginRight:2.5*e.spacing.unit,width:45},percentText:{color:"white"},labels:{wordBreak:"break-word",fontFamily:"sans-serif",fontSize:"0.75em",display:"flex",justifyContent:"center"},titleWrap:{wordBreak:"break-word",fontFamily:"sans-serif",fontSize:"1.5em",display:"flex"},entry:{maxWidth:500,paddingBottom:e.spacing.unit},buttonItem:{paddingRight:2*e.spacing.unit},titleContainer:{paddingTop:e.spacing.unit,paddingBottom:2*e.spacing.unit},slidercontainer:{paddingRight:2*e.spacing.unit},gridContainer:{margin:e.spacing.unit},container:{flexWrap:"wrap"},andor:{padding:e.spacing.unit,width:"15%"}}})(Hn),Zn=Object(g.c)(Qn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={selected:!1,open:!1,editMode:!1},a.handleToUpdate=function(e){a.setState({selected:e})},a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.profStore.dataLoaded||this.props.apiProfService.loadData().then(function(){e.props.profStore.dataLoaded=!0}),void 0!==this.props.parentLecture&&void 0!==this.props.questionObj.id&&this.setState({selected:this.props.profStore.getQuestionWithId(this.props.parentLecture,this.props.questionObj.id).is_open}),this.setState({editMode:"editMode"===this.props.mode})}},{key:"componentDidUpdate",value:function(e){e.parentLecture.id!==this.props.parentLecture.id&&this.setState({selected:this.props.profStore.getQuestionWithId(this.props.parentLecture,this.props.questionObj.id).is_open})}},{key:"render",value:function(){return s.a.createElement(T.a,{selected:this.state.selected,divider:!0},s.a.createElement(j.a,{primary:this.props.number+1+". "+this.props.questionObj.question_title}),s.a.createElement(G.a,null,s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},s.a.createElement(N.a,{item:!0,className:this.styles.open},"viewingMode"===this.props.mode?s.a.createElement(Ba,{className:this.styles.open,parentLecture:this.props.parentLecture,questionId:this.props.questionObj.id,handleListClose:this.props.handleListClose,handleClick:this.props.handleClick,handleToUpdate:this.handleToUpdate,open:this.props.questionObj.is_open,recentlyClosedId:this.props.recentlyClosedId,recentlyOpenedId:this.props.recentlyOpenedId}):"free_text"===this.props.questionObj.question_type?s.a.createElement(On,{questionObj:this.props.questionObj,getEdits:this.props.getEdits,is_open:this.state.selected}):"multiple_choice"===this.props.questionObj.question_type?s.a.createElement(Pn,{questionObj:this.props.questionObj,getEdits:this.props.getEdits,is_open:this.state.selected}):s.a.createElement($n,{questionObj:this.props.questionObj,getEdits:this.props.getEdits,is_open:this.state.selected})),s.a.createElement(N.a,{item:!0},s.a.createElement(Ue.a,{title:"View Stats",placement:"top"},s.a.createElement(yn,{index:this.props.number+1,question:this.props.questionObj,parentLecture:this.props.parentLecture}))))))}}]),t}(s.a.Component))||Qn,Jn=Object(y.withStyles)(function(e){return{open:{marginTop:5}}})(Zn),Kn=Object(g.c)(Ln=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={referrerLectureId:null,delQuestions:[],questions:[]},a.handleChange=function(e){return function(t){a.state.delQuestions.find(function(t){return t.id===e}).checked=t.target.checked,a.setState({delQuestions:a.state.delQuestions}),a.props.getDeletions(a.state.delQuestions)}},a.styles=e.classes,a.profStore=e.profStore,a.questions=e.questions,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],t=[],a=0;a<this.questions.length;a++)this.questions[a].is_open||t.push(this.questions[a]);t.slice().sort(function(e,t){return e.created_at<t.created_at?-1:e.created_at>t.created_at?1:0}).map(function(t,a){return e.push({id:t.id,checked:!1,title:t.question_title})}),void 0!==t&&null!==t&&this.setState({questions:t,delQuestions:e})}},{key:"render",value:function(){var e=this;return this.state.questions.length>0?s.a.createElement(He.a,{component:"fieldset",fullWidth:!0},s.a.createElement(Dt.a,{name:"delQuestions",value:this.state.delQuestions,onChange:this.handleChange},s.a.createElement(O.a,{component:"nav"},this.state.delQuestions.map(function(t,a){return s.a.createElement(T.a,{divider:!0,key:a},s.a.createElement(j.a,{primary:(a+1).toString()+". "+t.title}),s.a.createElement("div",{className:e.styles.checkBoxContainer},s.a.createElement(G.a,null,s.a.createElement(At.a,{key:a,control:s.a.createElement(Lt.a,{className:e.styles.checkBox,key:t.id,checked:t.checked,onChange:e.handleChange(t.id),value:t.id})}))))})))):s.a.createElement(F.a,{variant:"body1"}," It looks like all your questions are open... Please close questions you would like to delete. ")}}]),t}(s.a.Component))||Ln,Xn=Object(y.withStyles)(function(e){return{checkBox:{color:e.palette.primary.dark},checkBoxContainer:{height:4.5*e.spacing.unit,width:12.5*e.spacing.unit,justify:"center"}}})(Kn),es=Object(g.c)(Nn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={toNewQuestion:!1,deleteMode:!1,editMode:!1,mode:"viewingMode",deletions:[],delTitles:[],open:!1,parentLecture:new qe,lectureTitle:"",questions:[]},a.handleNewQuestionClick=function(){a.setState(function(){return{toNewQuestion:!0}})},a.handleDeleteQuestions=function(){a.props.disableTopButton(),a.setState({mode:"deleteMode",deleteMode:!0,editMode:!1})},a.handleEditQuestions=function(){a.props.disableTopButton(),a.setState({mode:"editMode",deleteMode:!1,editMode:!0})},a.handleRestoreMode=function(){a.props.restoreTopButton(),a.setState({mode:"viewingMode",deleteMode:!1,editMode:!1})},a.getEdits=function(e){a.props.apiProfService.editQuestion(e),a.props.mcqEditDetect()},a.getDeletions=function(e){a.setState({deletions:e})},a.handleDelete=function(){if(0===a.state.deletions.length)a.handleRestoreMode();else{for(var e=[],t=[],n=0;n<a.state.deletions.length;n++)a.state.deletions[n].checked&&(e.push(a.state.deletions[n].id),t.push(a.state.deletions[n].title));e.length>0?a.setState({delTitles:t,delIds:e,open:!0}):a.handleClose()}},a.handleClose=function(){a.setState({deleteMode:!1,open:!1,delIds:[],delTitles:[],deletions:[]})},a.handleDeletion=function(){a.props.handleFinalDeletion(a.state.delIds),a.handleClose(),a.handleRestoreMode()},a.styles=e.classes,a.profStore=e.profStore,a.apiProfService=e.apiProfService,a.parentLectureId=e.parentLectureId,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(console.log("mounting"),this.profStore.dataLoaded){var t=this.profStore.getLectureWithId(this.parentLectureId);void 0!==t&&this.setState({parentLecture:t,questions:t.questions,lectureTitle:t.title})}else this.apiProfService.loadData().then(function(){console.log("loading data"),e.profStore.dataLoaded=!0;var t=e.profStore.getLectureWithId(e.parentLectureId);void 0!==t&&e.setState({parentLecture:t,questions:t.questions,lectureTitle:t.title})})}},{key:"componentWillReceiveProps",value:function(e){var t=e.profStore.getLectureWithId(e.parentLectureId);t.questions.length!==this.state.questions.length&&t.id===this.state.parentLecture.id||this.setState({parentLecture:t,questions:t.questions,lectureTitle:t.title})}},{key:"render",value:function(){var e=this;return!0===this.state.toNewQuestion?s.a.createElement(se.a,{to:"/professor/TODO",push:!0}):s.a.createElement(De.a,{className:this.styles.card},s.a.createElement(Ae.a,null,console.log(this.state.parentLecture),s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch"},s.a.createElement(N.a,{item:!0},s.a.createElement(F.a,{className:this.styles.title,variant:"h6",color:"inherit"},"Questions for ",this.state.lectureTitle)),s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},s.a.createElement(N.a,{item:!0},this.state.editMode?s.a.createElement(Ue.a,{title:"Done Editing",placement:"top-start"},s.a.createElement($.a,{color:"secondary",onClick:this.handleRestoreMode},s.a.createElement(Re.a,null))):s.a.createElement(Ue.a,{title:"Edit Questions",placement:"top-start"},s.a.createElement($.a,{color:"secondary",onClick:this.handleEditQuestions,component:"div",disabled:"deleteMode"===this.state.mode||0===this.state.questions.length},s.a.createElement(Ve.a,null)))),s.a.createElement(N.a,{item:!0},this.state.deleteMode?s.a.createElement(Ue.a,{title:"Done Deleting",placement:"top-start"},s.a.createElement($.a,{color:"secondary",onClick:this.handleDelete.bind(this)},s.a.createElement(Re.a,null))):s.a.createElement(Ue.a,{title:"Delete Questions",placement:"top-start"},s.a.createElement($.a,{color:"secondary",onClick:this.handleDeleteQuestions,component:"div",disabled:"editMode"===this.state.mode||0===this.state.questions.length},s.a.createElement(Rt.a,null)))),s.a.createElement(N.a,{item:!0},s.a.createElement(Ma,{lectureId:this.state.parentLecture.id}))))),this.state.deleteMode?s.a.createElement(Xn,{questions:this.state.questions,getDeletions:this.getDeletions}):s.a.createElement(O.a,{component:"nav"},this.state.questions.slice().sort(function(e,t){return e.created_at<t.created_at?-1:e.created_at>t.created_at?1:0}).map(function(t,a){return s.a.createElement(Jn,{number:a,mode:e.state.mode,getEdits:e.getEdits,handleListClose:e.props.handleListClose,recentlyOpenedId:e.props.recentlyOpenedId,profStore:e.profStore,handleClick:e.props.handleClick,parentLectureId:e.state.parentLecture.id,parentLecture:e.state.parentLecture,questionObj:t,key:a,recentlyClosedId:e.props.recentlyClosedId})}))),s.a.createElement(Ut.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},"Are you sure you want to delete the following question(s): "),s.a.createElement(Ht.a,null,this.state.delTitles.map(function(e,t){return s.a.createElement(Zt.a,{key:t,id:"alert-dialog-description"},e)})),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,autoFocus:!0,color:"secondary"},"No"),s.a.createElement(Le.a,{onClick:this.handleDeletion,color:"secondary"},"Yes"))))}}]),t}(s.a.Component))||Nn,ts=Object(y.withStyles)(function(e){return{card:{minWidth:275},startLectureBtn:{float:"right"},title:{margin:e.spacing.unit}}})(es),as=La()(fe),ns=Object(g.b)("profStore")(Dn=Object(g.b)("apiService")(Dn=Object(g.c)(Dn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).mcqStatsUpdated=function(){a.setState({updateMCQStats:!1})},a.mcqEditDetect=function(){a.setState({updateMCQStats:!0})},a.disableTopButton=function(){a.setState({editDeleteMode:!0})},a.restoreTopButton=function(){a.setState({editDeleteMode:!1})},a.handleFinalDeletion=function(e){for(var t=function(t){(s=a.state.parentLecture.questions.find(function(a){return a.id===e[t]}))&&s.is_open&&(a.apiProfService.closeQuestion(e[t],a.state.parentLecture.id),a.handleListClickClose(e[t]))},n=0;n<e.length;n++){var s;t(n)}a.apiProfService.deleteQuestions(e,a.state.parentLecture.id),a.setState({parentLecture:a.profStore.getLectureWithId(a.props.match.params)})},a.handleBtnClick=function(){switch(a.state.btnStatus){case 0:a.profStore.getQuestionWithId(a.state.parentLecture,a.convertQuestionIndexToId(a.state.currentQuestionIndex)).is_open||(a.setState({recentlyOpenedId:a.convertQuestionIndexToId(a.state.currentQuestionIndex),recentlyClosedId:0}),a.apiProfService.openQuestion(a.convertQuestionIndexToId(a.state.currentQuestionIndex),a.state.parentLecture.id),as.emit("subscribe professor",a.convertQuestionIndexToId(a.state.currentQuestionIndex)),a.setState({btnStatus:1,openQuestionId:a.convertQuestionIndexToId(a.state.currentQuestionIndex),currentQuestionId:a.convertQuestionIndexToId(a.state.currentQuestionIndex)}));break;case 1:a.apiProfService.closeQuestion(a.state.currentQuestionId,a.state.parentLecture.id),a.setState({recentlyClosedId:a.convertQuestionIndexToId(a.state.currentQuestionIndex),recentlyOpenedId:0}),a.state.currentQuestionIndex+1>=a.state.parentLecture.questions.length?a.setState({btnStatus:3,openQuestionId:0}):a.setState({btnStatus:2,openQuestionId:0});break;case 2:a.apiProfService.openQuestion(a.convertQuestionIndexToId(a.state.currentQuestionIndex+1),a.state.parentLecture.id),as.emit("subscribe professor",a.convertQuestionIndexToId(a.state.currentQuestionIndex+1)),a.setState({recentlyOpenedId:a.convertQuestionIndexToId(a.state.currentQuestionIndex+1),recentlyClosedId:0}),a.setState({btnStatus:1,currentQuestionIndex:a.state.currentQuestionIndex+1,currentQuestionId:a.convertQuestionIndexToId(a.state.currentQuestionIndex+1),openQuestionId:a.convertQuestionIndexToId(a.state.currentQuestionIndex+1)})}},a.handleListClick=function(e){a.setState({btnStatus:1,currentQuestionIndex:a.convertQuestionIdToIndex(e),currentQuestionId:e,openQuestionId:e})},a.handleListClickClose=function(e){a.state.currentQuestionIndex+1>=a.state.parentLecture.questions.length?a.setState({btnStatus:3,openQuestionId:0,recentlyOpenedId:0}):a.setState({btnStatus:2,openQuestionId:0,recentlyOpenedId:0})},a.styles=e.classes,a.lectureId=null,a.state={currentQuestionIndex:0,currentQuestionId:0,openQuestionId:0,recentlyClosedId:0,recentlyOpenedId:0,btnStatus:0,parentLecture:{questions:[],title:""},editDeleteMode:!1,updateMCQStats:!1},a.profStore=e.profStore,a.apiProfService=e.apiService,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.profStore.dataLoaded){var t=this.props.match.params.lectureId;this.lectureId=t,void 0!==this.profStore.getLectureWithId(t)&&(this.setState({parentLecture:this.profStore.getLectureWithId(t)}),this.setState({currentQuestionId:this.convertQuestionIndexToId(this.state.currentQuestionIndex)}))}else this.apiProfService.loadData().then(function(){var t=e.props.match.params.lectureId;e.lectureId=t,void 0!==e.profStore.getLectureWithId(t)&&(e.setState({parentLecture:e.profStore.getLectureWithId(t)}),e.setState({currentQuestionId:e.convertQuestionIndexToId(e.state.currentQuestionIndex)}))})}},{key:"componentDidUpdate",value:function(){if(this.props.match.params.lectureId!==this.state.parentLecture.id)if(this.state.parentLecture.questions.length>0){this.apiProfService.closeAllQuestions(this.state.parentLecture.id);var e=this.props.match.params.lectureId;this.lectureId=e,this.setState({parentLecture:this.profStore.getLectureWithId(e),currentQuestionIndex:0,currentQuestionId:this.convertQuestionIndexToId(0),openQuestionId:0,recentlyClosedId:0,recentlyOpenedId:0,btnStatus:0,editDeleteMode:!1,updateMCQStats:!1})}else{var t=this.props.match.params.lectureId;this.lectureId=t,void 0!==this.profStore.getLectureWithId(t)&&(this.setState({parentLecture:this.profStore.getLectureWithId(t)}),this.setState({currentQuestionId:this.convertQuestionIndexToId(this.state.currentQuestionIndex)}))}this.state.currentQuestionId!==this.convertQuestionIndexToId(this.state.currentQuestionIndex)&&this.setState({currentQuestionId:this.convertQuestionIndexToId(this.state.currentQuestionIndex)})}},{key:"componentWillUnmount",value:function(){this.apiProfService.closeAllQuestions(this.lectureId)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Sa.a,{className:this.styles.root,elevation:1},s.a.createElement(F.a,{variant:"h6",component:"h6",className:this.styles.text},this.state.parentLecture.title," on ",this.state.parentLecture.date),s.a.createElement(W.a,{in:this.state.parentLecture.scheduled},s.a.createElement(F.a,{variant:"h6",component:"h6",className:this.styles.text,align:"right"},"Questions available from ",this.state.parentLecture.open_date," to ",this.state.parentLecture.close_date)),s.a.createElement(F.a,{variant:"h4",component:"h4",className:this.styles.textQ,align:"center"},"Q",this.convertQuestionIdToIndex(this.state.currentQuestionId)+1,": ",this.profStore.getQuestionWithId(this.state.parentLecture,this.state.currentQuestionId).question_title),s.a.createElement(W.a,{in:this.profStore.getQuestionWithId(this.state.parentLecture,this.state.currentQuestionId).question_image},s.a.createElement(N.a,{item:!0,align:"center"},s.a.createElement("img",{src:this.profStore.getQuestionWithId(this.state.parentLecture,this.state.currentQuestionId).question_image,alt:"Preview Unavailable",height:300}))),s.a.createElement(W.a,{in:!this.state.parentLecture.scheduled},s.a.createElement(Le.a,{variant:"outlined",color:"primary",onClick:function(){return e.handleBtnClick()},className:this.styles.startLectureBtn,disabled:3===this.state.btnStatus||0===this.state.parentLecture.questions.length||this.state.editDeleteMode},0===this.state.btnStatus?"Open Question "+(this.convertQuestionIdToIndex(this.state.currentQuestionId)+1):1===this.state.btnStatus?"Close Question "+(this.convertQuestionIdToIndex(this.state.currentQuestionId)+1):2===this.state.btnStatus?"Open Question "+(this.convertQuestionIdToIndex(this.state.currentQuestionId)+2):"No More Questions"))),s.a.createElement(N.a,{container:!0,spacing:24,className:this.styles.grid},s.a.createElement(N.a,{item:!0,xs:12,md:8},s.a.createElement(ts,{handleListClose:this.handleListClickClose,handleClick:this.handleListClick,profStore:this.profStore,apiProfService:this.apiProfService,parentLecture:this.state.parentLecture,parentLectureId:this.props.match.params.lectureId,handleFinalDeletion:this.handleFinalDeletion,recentlyClosedId:this.state.recentlyClosedId,recentlyOpenedId:this.state.recentlyOpenedId,selectedQuestionId:this.state.openQuestionId,disableTopButton:this.disableTopButton,restoreTopButton:this.restoreTopButton,mcqEditDetect:this.mcqEditDetect})),s.a.createElement(N.a,{item:!0,xs:12,sm:9,md:4},s.a.createElement(O.a,null,this.state.parentLecture.questions.map(function(t,a){return"multiple_choice"===t.question_type?s.a.createElement(Xa,{key:a,parentLecture:e.state.parentLecture,selectedQuestionId:t.id,updateMCQStats:e.state.updateMCQStats,mcqStatsUpdated:e.mcqStatsUpdated}):"free_text"===t.question_type?s.a.createElement(pn,{key:a,parentLecture:e.state.parentLecture,selectedQuestionId:t.id}):"slider"===t.question_type?s.a.createElement(mn,{key:a,parentLecture:e.state.parentLecture,selectedQuestionId:t.id}):null})))))}},{key:"getSortedQuestionsCopy",value:function(){return this.profStore.getLectureWithId(this.props.match.params.lectureId).questions.slice().sort(function(e,t){return e.created_at<t.created_at?-1:e.created_at>t.created_at?1:0})}},{key:"convertQuestionIndexToId",value:function(e){return e<this.profStore.getLectureWithId(this.props.match.params.lectureId).questions.length?this.getSortedQuestionsCopy()[e].id:0}},{key:"convertQuestionIdToIndex",value:function(e){for(var t=this.getSortedQuestionsCopy(),a=0;a<t.length;a++)if(t[a].id===e)return a;return 0}}]),t}(s.a.Component))||Dn)||Dn)||Dn,ss=Object(y.withStyles)(function(e){return{root:Object(ta.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:7*e.spacing.unit,backgroundColor:e.palette.secondary.main}),grid:{paddingTop:2*e.spacing.unit},text:{color:"#ffffff"},textQ:{color:"#ffffff",paddingTop:2*e.spacing.unit,paddingRight:10*e.spacing.unit,paddingLeft:10*e.spacing.unit,paddingBottom:2*e.spacing.unit},startLectureBtn:{float:"right"},showCodeBtn:{float:"left"}}})(ns);function is(e){if(0===e.length)return!1;var t=!0,a=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0)for(var r=s.value,o=Object.values(r),l=0;l<o.length;l++){if(""===o[l].replace(/^\s+|\s+$/g,""))return!1}}catch(c){a=!0,n=c}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return!0}var rs,os,ls,cs,us,ds,ps,hs,ms,fs,bs,gs,ys,vs,Es,ws=Object(g.b)("profStore")(Tn=Object(g.b)("apiService")(Tn=Object(g.c)(Tn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={toQuestions:!1,title:"",correct_answer:"",number_of_options:"",question_image_string:"",options:[],answer_choices:{option1:"",option2:"",option3:"",option4:"",option5:""},checked:{option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},should_delete:{option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},titleError:"",formValid:!1,titleValid:!0,hasAnswers:!1,optionsValid:!1,delete_mode:!1,deleteDisabled:!1,deleteConfirmDisabled:!1,uploading:!1},a.handleOption=function(e){return function(t){var n=Object.keys(e)[0],s=a.state.answer_choices,i=a.state.options;s[n]=t.target.value,i.find(function(e){return Object.keys(e)[0]===n})[n]=t.target.value,a.setState({answer_choices:s,options:i},function(){a.validateFields("answer_choices",i)})}},a.handleSetNumberOfOptions=function(e){return function(t){for(var n=[],s=a.state.answer_choices,i=t.target.value<=2,r=1;r<=t.target.value;r++){var o="option"+r.toString();n.push(Object(b.a)({},o,a.state.answer_choices[o]))}if(t.target.value<a.state.number_of_options)for(var l=t.target.value+1;l<=5;l++){s["option"+l.toString()]=""}a.setState({answer_choices:s,number_of_options:t.target.value,options:n,deleteDisabled:i},function(){a.validateFields(e,n)})}},a.handleDeleteQueue=function(e){return function(t){var n=a.state.should_delete;t.target.checked?n[e]=!0:n[e]=!1;for(var s=0,i=Object.keys(n),r=0;r<i.length;r++){n[i[r]]||s++}s-=5-a.state.number_of_options,a.setState({should_delete:n,deleteConfirmDisabled:s<2})}},a.handleCheck=function(e){return function(t){var n=Object.keys(e)[0],s=a.state.checked,i=n;s[n]=t.target.checked,a.state.correct_answer===n&&(s[n]=!1,i=""),a.setState({correct_answer:i,checked:s})}},a.handleChange=function(e){return function(t){var n=t.target.value;a.setState(Object(b.a)({},e,n),function(){a.validateFields(e,n)})}},a.encodeImageFileAsURL=function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(){console.log("RESULT",n.result),a.setState({question_image_string:n.result})},n.onloadend=n.onloadend.bind(Object(la.a)(Object(la.a)(a))),n.readAsDataURL(t)},a.handleSubmit=function(e){if(e.preventDefault(),a.state.formValid){var t=a.props.match.params.lectureId;a.props.apiService.addQuestion(new En(null,t,"multiple_choice",a.state.title,a.state.question_image_string,a.state.correct_answer,null,null,null,null,null,null,null,null,a.state.answer_choices.option1,a.state.answer_choices.option2,a.state.answer_choices.option3,a.state.answer_choices.option4,a.state.answer_choices.option5,a.state.number_of_options)),a.setState({toQuestions:!0})}},a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setAnswerObject",value:function(e){for(var t={},a=1;a<=e;a++){t["option"+a.toString()]=""}return t}},{key:"setCheckedObject",value:function(e){for(var t={},a=1;a<=e;a++){t["option"+a.toString()]=!1}return t}},{key:"handleDelete",value:function(){for(var e=this,t=this.state.answer_choices,a=this.state.number_of_options,n=[],s="",i={option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},r=Object.keys(this.state.should_delete),o=0;o<r.length;o++){var l=r[o];this.state.should_delete[l]&&a--}if(a<2)this.setState({should_delete:{option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},delete_mode:!1});else{for(var c=1,u=Object.keys(t),d=0;d<u.length;d++){var p=u[d];if(!this.state.should_delete[p]){var h="option"+c.toString();if(n.push(Object(b.a)({},h,t[p])),p===this.state.correct_answer&&(s=h),++c>a)break}}t={option1:"",option2:"",option3:"",option4:"",option5:""},n.map(function(e){return t[Object.keys(e)[0]]=Object.values(e)[0]}),""!==s&&(i[s]=!0),this.setState({should_delete:{option1:!1,option2:!1,option3:!1,option4:!1,option5:!1},answer_choices:t,correct_answer:s,checked:i,number_of_options:a,delete_mode:!1,options:n,deleteDisabled:a<=2},function(){e.validateFields("answer_choices",n)})}}},{key:"validateFields",value:function(e,t){var a=this.state.titleValid,n=this.state.errors,s=this.state.hasAnswers,i=this.state.optionsValid,r=this.state.titleError;switch(e){case"title":""===t.replace(/^\s+|\s+$/g,"")?(r="This field is required",a=!1):(r="",a=!0);break;case"number_of_options":s=!0,i=is(t);break;case"answer_choices":i=is(t)}this.setState({errors:n,titleValid:a,titleError:r,hasAnswers:s,optionsValid:i},this.validateForm)}},{key:"validateForm",value:function(){var e=""!==this.state.title;e||this.setState({titleValid:!1}),this.setState({formValid:e&&this.state.hasAnswers&&this.state.optionsValid})}},{key:"setDeleteMode",value:function(){var e=!this.state.delete_mode;this.setState({delete_mode:e})}},{key:"render",value:function(){var e=this,t=this.props.match.params.lectureId;return!0===this.state.toQuestions?s.a.createElement(se.a,{to:"/professor/"+t+"/questions",push:!0}):s.a.createElement(N.a,{container:!0,direction:"column",justify:"center",className:this.styles.paper},s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(F.a,{variant:"h3",color:"textPrimary"},"Add New Question:")),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement("form",{className:this.styles.container,onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},s.a.createElement(it.a,{fullWidth:!0,required:!0,error:!this.state.titleValid,id:"standard-name",label:"Question Title",value:this.state.title,onChange:this.handleChange("title"),margin:"normal",helperText:this.state.titleError}))),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement("form",{autoComplete:"off"},s.a.createElement(He.a,null,s.a.createElement(jn.a,{htmlFor:"number-options"},"number of answer choices"),s.a.createElement(In.a,{value:this.state.number_of_options,onChange:this.handleSetNumberOfOptions("number_of_options"),className:this.styles.select,disabled:this.state.delete_mode,inputProps:{name:"number_of_options",id:"number-options"}},s.a.createElement(le.a,{value:2},"2"),s.a.createElement(le.a,{value:3},"3"),s.a.createElement(le.a,{value:4},"4"),s.a.createElement(le.a,{value:5},"5"))))),this.state.hasAnswers&&s.a.createElement(N.a,{item:!0},s.a.createElement(tn.a,null,s.a.createElement(ln.a,null,s.a.createElement(un.a,null,this.state.delete_mode?s.a.createElement(rn.a,null," Delete?"):s.a.createElement(rn.a,null,"Correct Answer?"),s.a.createElement(rn.a,null,"Answer Choices"))),s.a.createElement(nn.a,null,this.state.delete_mode?this.state.options.map(function(t,a){return s.a.createElement(un.a,{key:a},s.a.createElement(rn.a,null,s.a.createElement(Lt.a,{checked:e.state.should_delete[Object.keys(t)[0]],onChange:e.handleDeleteQueue(Object.keys(t)[0]),value:Object.keys(t)[0]})),s.a.createElement(rn.a,{align:"right"},s.a.createElement(F.a,{variant:"body1",align:"justify"}," ",e.state.answer_choices[Object.keys(t)[0]])))}):this.state.options.map(function(t,a){return s.a.createElement(un.a,{key:a},s.a.createElement(rn.a,null,s.a.createElement(Lt.a,{checked:e.state.correct_answer===Object.keys(t)[0],onChange:e.handleCheck(t),value:Object.keys(t)[0]})),s.a.createElement(rn.a,{align:"right"},s.a.createElement(He.a,null,s.a.createElement(Ye.a,{multiline:!0,id:"bootstrap-input",name:Object.keys(t)[0],value:e.state.answer_choices[Object.keys(t)[0]],onChange:e.handleOption(t),classes:{input:e.styles.bootstrapInput}}))))}))),s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},this.state.delete_mode?s.a.createElement($.a,{color:"secondary",onClick:this.handleDelete.bind(this),disabled:this.state.deleteConfirmDisabled},s.a.createElement(Re.a,{className:this.styles.iconDone})):s.a.createElement($.a,{onClick:this.setDeleteMode.bind(this),color:"secondary",disabled:this.state.deleteDisabled},s.a.createElement(Rt.a,null)))),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(Le.a,{variant:"contained",component:"label"},"Upload Image",s.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.encodeImageFileAsURL}))),s.a.createElement(W.a,{in:this.state.question_image_string,timeout:"auto",unmountOnExit:!0},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"},"Image Preview"),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement("img",{src:this.state.question_image_string,height:300,alt:"Preview Unavailable"}))),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(N.a,{container:!0,direction:"row",className:this.styles.buttonContainer},s.a.createElement("form",null,s.a.createElement(Le.a,{type:"submit",disabled:!this.state.formValid,variant:"outlined",color:"primary",onClick:this.handleSubmit},"Submit")))))}}]),t}(s.a.Component))||Tn)||Tn)||Tn,Ss=Object(y.withStyles)(function(e){return{paper:{position:"absolute",width:60*e.spacing.unit},select:{width:60*e.spacing.unit},icon:{margin:e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},item:{paddingBottom:4*e.spacing.unit},buttonContainer:{paddingTop:2*e.spacing.unit},bootstrapInput:{borderRadius:4,backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:12,padding:"10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}})(ws),_s=Object(g.b)("profStore")(rs=Object(g.b)("apiService")(rs=Object(g.c)(rs=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={toQuestions:!1,title:"",correct_answer:"",error:"",titleValid:!1,correct_answer_valid:!0,question_image_string:""},a.handleChange=function(e){return function(t){var n=t.target.value;a.setState(Object(b.a)({},e,n),function(){a.handleValidation(e,n)})}},a.encodeImageFileAsURL=function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(){console.log("RESULT",n.result),a.setState({question_image_string:n.result})},n.onloadend=n.onloadend.bind(Object(la.a)(Object(la.a)(a))),n.readAsDataURL(t)},a.handleSubmit=function(e){if(e.preventDefault(),a.state.titleValid){var t=a.props.match.params.lectureId;a.props.apiService.addQuestion(new Sn(null,t,"free_text",a.state.title,a.state.question_image_string,a.state.correct_answer,null,null,null,null,null,null,null,null,"")),a.setState({toQuestions:!0})}},a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleValidation",value:function(e,t){switch(e){case"title":""===this.state.title.replace(/^\s+|\s+$/g,"")?this.setState({error:"This field is required",titleValid:!1}):this.setState({error:"",titleValid:!0});break;case"correct_answer":""!==this.state.correct_answer?""===this.state.correct_answer.replace(/^\s+|\s+$/g,"")?this.setState({correct_answer_valid:!1}):this.setState({correct_answer_valid:!0}):this.state.correct_answer_valid||this.setState({correct_answer_valid:!0})}}},{key:"render",value:function(){var e=this.props.match.params.lectureId;return!0===this.state.toQuestions?s.a.createElement(se.a,{to:"/professor/"+e+"/questions",push:!0}):s.a.createElement("div",{className:this.styles.paper},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"},"Add New Question:"),s.a.createElement("form",{className:this.styles.container,onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},s.a.createElement(N.a,{container:!0,direction:"column"},s.a.createElement(it.a,{required:!0,error:!this.state.titleValid&&!(""===this.state.error),label:"Question Title",className:this.styles.textField,value:this.state.title,onChange:this.handleChange("title"),margin:"normal",helperText:this.state.error}),s.a.createElement(it.a,{label:"Correct Answer",className:this.styles.textField,value:this.state.correct_answer,onChange:this.handleChange("correct_answer"),margin:"normal"}),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(Le.a,{variant:"contained",component:"label"},"Upload Image",s.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.encodeImageFileAsURL}))),s.a.createElement(W.a,{in:this.state.question_image_string,timeout:"auto",unmountOnExit:!0},s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"},"Image Preview")),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement("img",{src:this.state.question_image_string,height:300,alt:"Preview Unavailable"}))),s.a.createElement(N.a,{item:!0,className:this.styles.item},s.a.createElement(Le.a,{type:"submit",disabled:!this.state.titleValid||!this.state.correct_answer_valid,variant:"outlined",color:"primary",onClick:this.handleSubmit},"Submit")))))}}]),t}(s.a.Component))||rs)||rs)||rs,Os=Object(y.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},item:{paddingBottom:e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:400}}})(_s),Cs=a(118),js=a.n(Cs),ks=[{value:"=",label:"="},{value:"<",label:"<"},{value:">",label:">"},{value:"<=",label:"<="},{value:">=",label:">="}],Is=[{value:"<",label:"<"},{value:">",label:">"},{value:"<=",label:"<="},{value:">=",label:">="}],qs=Object(g.b)("profStore")(os=Object(g.b)("apiService")(os=Object(g.c)(os=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={toQuestions:!1,title:"",titleError:"",correct_answer:"",labels:{lower:"0%",upper:"100%"},answer_bounds:{upper:"",lower:""},range:!1,rangeVal:"not_range",equality_operators:{upper:"",lower:""},slider_value:50,has_correct_answer:!1,custom_labels:!1,question_image_string:"",fieldsValid:{title:!1,lower_label:!1,upper_label:!1,lower_bound:!1,upper_bound:!1,equality_operators:!1},disabled:!0},a.setCorrectAnswer=function(e){return function(t){t.target.checked||a.setState({answer_bounds:{upper:"",lower:""},equality_operators:{upper:"",lower:""},range:!1,rangeVal:"not_range"}),a.setState(Object(b.a)({},e,t.target.checked),function(){a.validateBoundsAndOperators()})}},a.setCustomLabels=function(e){return function(t){if(!t.target.checked){var n=a.state.fieldsValid;n.lower_label=!0,n.upper_label=!0,a.setState({fieldsValid:n,labels:{upper:"100%",lower:"0%"},custom_labels:!1})}a.setState(Object(b.a)({},e,t.target.checked)),a.validateAnswers()}},a.setCorrectBounds=function(e){return function(t){var n=a.state.answer_bounds,s=t.target.value;n[e]=s,s<0&&(s=0),s>100&&(s=100),Number.isInteger(s)||(s=Math.round(s)),a.setState({answer_bounds:n},function(){a.validateBoundsAndOperators()})}},a.handleEqualityOperator=function(e){return function(t){var n=a.state.equality_operators;n[e]=t.target.value,a.setState({equality_operators:n},function(){a.validateBoundsAndOperators()})}},a.handleTitleChange=function(e){return function(e){var t=e.target.value;a.setState({title:t},function(){a.validateTitle(t)})}},a.handleLabelsChange=function(e){return function(t){var n=t.target.value,s=a.state.labels;s[e]=t.target.value,a.setState({labels:s},function(){a.handleLabelsValidation(e,n)})}},a.handleSliderChange=function(e,t){a.setState({slider_value:t})},a.handleSetRange=function(e){var t=!0;"not_range"===e.target.value&&(t=!1),a.setState({rangeVal:e.target.value,range:t})},a.encodeImageFileAsURL=function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(){console.log("RESULT",n.result),a.setState({question_image_string:n.result})},n.onloadend=n.onloadend.bind(Object(la.a)(Object(la.a)(a))),n.readAsDataURL(t)},a.handleSubmit=function(e){if(e.preventDefault(),!a.state.disabled){var t=a.props.match.params.lectureId,n="";if(a.state.has_correct_answer)if(a.state.range){var s=a.state.answer_bounds,i=a.state.equality_operators;if(Number(s.lower)>Number(s.upper)){var r=s.lower;s.lower=s.upper,s.upper=r;var o=a.state.equality_operators,l=a.state.equality_operators.lower;o.lower=o.upper,o.upper=l}n=i.lower+" "+s.lower.toString()+" "+a.getOperatorCondition(i.lower)+" "+i.upper+" "+s.upper.toString()}else n=a.state.equality_operators.lower+" "+a.state.answer_bounds.lower.toString();a.props.apiService.addQuestion(new wn(null,t,"slider",a.state.title,a.state.question_image_string,n,null,null,null,null,null,null,null,null,a.state.labels.lower,a.state.labels.upper)),a.setState({toQuestions:!0})}},a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"validateAnswers",value:function(){var e=!1;if(this.state.custom_labels&&this.state.has_correct_answer)for(var t=Object.keys(this.state.fieldsValid),a=0;a<t.length;a++){var n=t[a];this.state.fieldsValid[n]||(e=!0)}else this.state.custom_labels?this.state.fieldsValid.lower_label&&this.state.fieldsValid.upper_label&&this.state.fieldsValid.title||(e=!0):this.state.has_correct_answer?this.state.fieldsValid.lower_bound&&this.state.fieldsValid.upper_bound&&this.state.fieldsValid.equality_operators||(e=!0):this.state.fieldsValid.title||(e=!0);this.state.fieldsValid.title||(e=!0),this.setState({disabled:e})}},{key:"getOppBound",value:function(e){return"upper_bound"===e?"lower_bound":"upper_bound"}},{key:"getOppSide",value:function(e){return"upper"===e?"lower":"upper"}},{key:"isInRange",value:function(e,t){return""!==e.replace(/^\s+|\s+$/g,"")&&(""!==t.replace(/^\s+|\s+$/g,"")&&(("<"!==e||"0"!==t)&&(">"!==e||"100"!==t)))}},{key:"validateBoundsAndOperators",value:function(){var e=this,t=!0,a=this.state.fieldsValid;if(this.isInRange(this.state.equality_operators.lower,this.state.answer_bounds.lower)||(a.equality_operators=!1,a.lower_bound=!1,t=!1),this.state.range){this.isInRange(this.state.equality_operators.upper,this.state.answer_bounds.upper)||(a.equality_operators=!1,a.upper_bound=!1,t=!1),this.state.answer_bounds.lower===this.state.answer_bounds.upper&&(a.equality_operators=!1,a.lower_bound=!1,t=!1);var n=!0;switch(this.state.equality_operators.lower){case">":case">=":n=">"!==this.state.equality_operators.upper&&">="!==this.state.equality_operators.upper;break;case"<":case"<=":n="<"!==this.state.equality_operators.upper&&"<="!==this.state.equality_operators.upper;break;default:n=!0}a.equality_operators=n&&a.equality_operators,n||(t=!1)}t&&(a={title:this.state.fieldsValid.title,lower_label:!0,upper_label:!0,lower_bound:!0,upper_bound:!0,equality_operators:!0}),this.setState({fieldsValid:a},function(){e.validateAnswers()})}},{key:"validateTitle",value:function(e){var t=this.state.titleError,a=this.state.fieldsValid;""===e.replace(/^\s+|\s+$/g,"")?(t="Required",a.title=!1):(t="",a.title=!0),this.setState({titleError:t,fieldsValid:a}),this.validateAnswers()}},{key:"handleLabelsValidation",value:function(){var e=!1;""!==this.state.labels.upper.replace(/^\s+|\s+$/g,"")&&""!==this.state.labels.lower.replace(/^\s+|\s+$/g,"")&&(e=!0);var t=this.state.fieldsValid;t.lower_label=e,t.upper_label=e,this.setState({fieldsValid:t}),this.validateAnswers()}},{key:"getOperatorCondition",value:function(e){var t=!0;switch(e){case"<":case"<=":t="||";break;case">":case">=":t="&&";break;default:t=!0}return t}},{key:"render",value:function(){var e=this.props.match.params.lectureId;return!0===this.state.toQuestions?s.a.createElement(se.a,{to:"/professor/"+e+"/questions",push:!0}):s.a.createElement(N.a,{container:!0,justify:"center",className:this.styles.container,spacing:24},s.a.createElement(N.a,{item:!0,className:this.styles.gridItem,xs:12,sm:6},s.a.createElement(N.a,{container:!0,direction:"column","align-items":"flex-start"},s.a.createElement(N.a,{item:!0},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"},"Add New Question:")),s.a.createElement(N.a,{item:!0,className:this.styles.entry},s.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit},s.a.createElement(it.a,{required:!0,fullWidth:!0,error:""!==this.state.titleError,id:"standard-name",label:"Question Title",value:this.state.title,onChange:this.handleTitleChange("title"),margin:"normal",helperText:this.state.titleError}))),s.a.createElement(N.a,{item:!0},s.a.createElement(Le.a,{variant:"contained",component:"label"},"Upload Image",s.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.encodeImageFileAsURL})))),s.a.createElement(N.a,{container:!0,direction:"column",justify:"flex-start"},s.a.createElement(N.a,{item:!0},s.a.createElement(At.a,{control:s.a.createElement(Fn.a,{checked:this.state.custom_labels,onChange:this.setCustomLabels("custom_labels"),value:this.state.custom_labels}),label:"custom labels (optional)"})),this.state.custom_labels&&s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:24,className:this.styles.entry},s.a.createElement(N.a,{item:!0,xs:12,sm:6},s.a.createElement(it.a,{fullWidth:!0,id:"standard-name",label:"lower label",value:this.state.labels.lower,onChange:this.handleLabelsChange("lower"),margin:"normal"})),s.a.createElement(N.a,{item:!0,xs:12,sm:6},s.a.createElement(it.a,{fullWidth:!0,id:"standard-name",label:"upper label",value:this.state.labels.upper,onChange:this.handleLabelsChange("upper"),margin:"normal"}))))),s.a.createElement(N.a,{container:!0,direction:"column",justify:"space-evenly"},s.a.createElement(N.a,{item:!0},s.a.createElement(At.a,{control:s.a.createElement(Fn.a,{checked:this.state.has_correct_answer,onChange:this.setCorrectAnswer("has_correct_answer"),value:this.state.has_correct_answer}),label:"set correct answer (optional)"})),this.state.has_correct_answer&&s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row"},s.a.createElement(He.a,{component:"fieldset"},s.a.createElement(zn.a,{name:"rangeVal",value:this.state.rangeVal,onChange:this.handleSetRange},s.a.createElement(At.a,{value:"not_range",name:"not_range",control:s.a.createElement(Bn.a,null),label:"inequality/equality"}),s.a.createElement(At.a,{value:"range",name:"range",control:s.a.createElement(Bn.a,null),label:"set range"}))))),this.state.has_correct_answer&&this.state.range?s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start",className:this.styles.entry,spacing:16},s.a.createElement(N.a,{item:!0,xs:6,sm:3},s.a.createElement(it.a,{select:!0,value:this.state.equality_operators.lower,onChange:this.handleEqualityOperator("lower"),InputProps:{startAdornment:s.a.createElement(Wn.a,{position:"start"},"answer")}},Is.map(function(e){return s.a.createElement(le.a,{key:e.value,value:e.value},e.label)}))),s.a.createElement(N.a,{item:!0,xs:6,sm:3},s.a.createElement(it.a,{id:"correct answer lower bound",type:"number",value:this.state.answer_bounds.lower,onChange:this.setCorrectBounds("lower"),InputProps:{endAdornment:s.a.createElement(Wn.a,{variant:"filled",position:"end"},"%")}})),s.a.createElement(N.a,{item:!0,xs:6,sm:3},s.a.createElement(it.a,{select:!0,value:this.state.equality_operators.upper,onChange:this.handleEqualityOperator("upper"),InputProps:{startAdornment:s.a.createElement(Wn.a,{position:"start"},"and/or")}},Is.map(function(e){return s.a.createElement(le.a,{key:e.value,value:e.value},e.label)}))),s.a.createElement(N.a,{item:!0,xs:6,sm:3},s.a.createElement(it.a,{id:"correct answer upper bound",type:"number",value:this.state.answer_bounds.upper,onChange:this.setCorrectBounds("upper"),InputProps:{endAdornment:s.a.createElement(Wn.a,{variant:"filled",position:"end"},"%")}})))):this.state.has_correct_answer&&s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start",className:this.styles.entry},s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start",spacing:24},s.a.createElement(N.a,{item:!0,xs:6},s.a.createElement(it.a,{select:!0,fullWidth:!0,value:this.state.equality_operators.lower,onChange:this.handleEqualityOperator("lower"),InputProps:{startAdornment:s.a.createElement(Wn.a,{position:"start"},"answer")}},ks.map(function(e){return s.a.createElement(le.a,{key:e.value,value:e.value},e.label)}))),s.a.createElement(N.a,{item:!0,xs:6},s.a.createElement(it.a,{fullWidth:!0,id:"correct answer lower bound",type:"number",value:this.state.answer_bounds.lower,onChange:this.setCorrectBounds("lower"),InputProps:{endAdornment:s.a.createElement(Wn.a,{variant:"filled",position:"end"},"%")}}))))))),s.a.createElement(N.a,{container:!0,className:this.styles.button},s.a.createElement(Le.a,{disabled:this.state.disabled,variant:"outlined",color:"primary",type:"submit",onClick:this.handleSubmit},"Submit"))),s.a.createElement(N.a,{item:!0,className:this.styles.gridItem,xs:12,sm:6},s.a.createElement(N.a,{container:!0,direction:"column","align-items":"flex-start",spacing:24},s.a.createElement(N.a,{item:!0},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"}," Preview: ")),s.a.createElement(W.a,{in:this.state.question_image_string,timeout:"auto",unmountOnExit:!0},s.a.createElement(N.a,{item:!0,align:"center"},s.a.createElement("img",{src:this.state.question_image_string,height:300,alt:"Preview Unavailable"}))),s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"column",justify:"center",spacing:24},s.a.createElement(N.a,{item:!0,xs:12},s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",className:this.styles.titleContainer},s.a.createElement(N.a,{item:!0},s.a.createElement("div",{className:this.styles.titleWrap}," ",this.state.title," ")),s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},s.a.createElement(De.a,{className:this.styles.card},s.a.createElement(F.a,{align:"center",className:this.styles.percentText},this.state.slider_value.toString()+" ","%")))))),s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",className:this.styles.slidercontainer,spacing:24},s.a.createElement(N.a,{item:!0,xs:!0},s.a.createElement("div",{className:this.styles.labels},this.state.labels.lower)),s.a.createElement(N.a,{item:!0,xs:8},s.a.createElement(js.a,{value:this.state.slider_value,min:0,max:100,step:1,"aria-labelledby":"label",onChange:this.handleSliderChange})),s.a.createElement(N.a,{item:!0,xs:!0},s.a.createElement("div",{className:this.styles.labels},this.state.labels.upper))))))))}}]),t}(s.a.Component))||os)||os)||os,xs=Object(y.withStyles)(function(e){return{gridItem:{padding:e.spacing.unit},card:{backgroundColor:e.palette.secondary.main,padding:.25*e.spacing.unit,marginRight:2.5*e.spacing.unit,width:45},percentText:{color:"white"},labels:{wordBreak:"break-word",fontFamily:"sans-serif",fontSize:"0.75em",display:"flex",justifyContent:"center"},titleWrap:{wordBreak:"break-word",fontFamily:"sans-serif",fontSize:"1.5em",display:"flex"},entry:{maxWidth:500},titleContainer:{paddingTop:e.spacing.unit,paddingBottom:2*e.spacing.unit},slidercontainer:{paddingRight:2*e.spacing.unit},gridContainer:{margin:e.spacing.unit},container:{flexWrap:"wrap"},button:{paddingTop:3*e.spacing.unit},andor:{padding:e.spacing.unit,width:"15%"}}})(qs),Qs=Object(g.b)("profStore")(ls=Object(g.b)("apiService")(ls=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).modifyDate=function(e){return e=new Date(Date.UTC(e.getYear()+1900,e.getMonth(),e.getDate(),12,0,0))},a.handleDateChange=function(e){e=a.modifyDate(e),a.setState({selectedDate:e})},a.handleOpenDateChange=function(e){e=a.modifyDate(e),a.setState({openDate:e},function(){a.handleValidation()})},a.handleCloseDateChange=function(e){e=a.modifyDate(e),a.setState({closeDate:e},function(){a.handleValidation()})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s),function(){a.handleValidation()})},a.handleCheck=function(e){var t=e.target,n=t.name,s=t.checked;a.setState(Object(b.a)({},n,s),function(){a.handleValidation()})},a.handleSubmit=function(){a.props.apiService.addLecture(new qe(a.state.title,a.state.selectedDate,null,a.state.courseId,null,a.state.scheduled,a.state.openDate,a.state.closeDate)),a.setState({toLecture:!0})},ma.a.prototype.getStartOfMonth=ma.a.prototype.startOfMonth,a.styles=e.classes,a.profStore=e.profStore,a.courseId=a.props.match.params.courseId;var n=new Date;return a.state={toLecture:!1,title:"Lecture ",courseId:a.courseId,scheduled:!1,numLects:a.props.location.state.numLects.toString(),errors:{title:""},titleValid:!0,formValid:!1,selectedDate:n,dateValid:!0,openDate:n,closeDate:n},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e="Lecture "+this.state.numLects.toString();this.setState({title:e}),this.handleValidation()}},{key:"handleValidation",value:function(){var e=this.state.titleValid,t=this.state.dateValid,a=this.state.errors;""===this.state.title?(a.title="This field is required.",e=!1):e=!0,this.state.scheduled&&(t=this.state.closeDate.getTime()>=this.state.openDate.getTime()),this.setState({titleValid:e,dateValid:t},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.titleValid&&this.state.dateValid})}},{key:"render",value:function(){return!0===this.state.toLecture?s.a.createElement(se.a,{to:"/professor/"+this.state.courseId+"/lectures",push:!0}):s.a.createElement("div",{className:this.styles.paper},s.a.createElement(N.a,{container:!0,direction:"column"},s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(F.a,{variant:"h6",color:"textPrimary"},"Add New Lecture:")),s.a.createElement("form",{noValidate:!0,autoComplete:"off"},s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(it.a,{requiredtitle:"true",error:!this.state.titleValid,name:"title",label:"Lecture Title",className:this.styles.textField,value:this.state.title,onChange:this.handleChange,margin:"normal",helperText:this.state.errors.title,multiline:!0})),s.a.createElement(ha.b,{utils:pa.a},s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(ha.a,{margin:"normal",label:"Lecture Date",name:"selectedDate",value:this.state.selectedDate,onChange:this.handleDateChange,className:this.styles.dateField}))),s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(N.a,{container:!0,direction:"row",alignItems:"center"},s.a.createElement(N.a,{item:!0},s.a.createElement(Lt.a,{checked:this.state.scheduled,onChange:this.handleCheck,name:"scheduled"})),s.a.createElement(N.a,{item:!0},s.a.createElement(F.a,{variant:"body2",color:"textPrimary"},"Schedule the Lecture to Open and Close at Specific Dates")))),s.a.createElement(W.a,{in:this.state.scheduled,timeout:"auto",unmountOnExit:!0},s.a.createElement(ha.b,{utils:pa.a},s.a.createElement(N.a,{container:!0,direction:"row"},s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(ha.a,{margin:"normal",label:"Start Date",name:"openDate",value:this.state.openDate,onChange:this.handleOpenDateChange,className:this.styles.dateField})),s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(ha.a,{margin:"normal",label:"End Date",name:"closeDate",value:this.state.closeDate,onChange:this.handleCloseDateChange,className:this.styles.dateField}))))),s.a.createElement(N.a,{item:!0,className:this.styles.gridItemButton},s.a.createElement(Le.a,{disabled:!this.state.formValid,variant:"outlined",color:"primary",className:this.styles.container,onClick:this.handleSubmit},"Submit")))))}}]),t}(s.a.Component))||ls)||ls,Ls=Object(y.withStyles)(function(e){return{paper:{position:"absolute",width:80*e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},gridItem:{margin:e.spacing.unit},dateField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:30*e.spacing.unit},gridItemButton:{margin:2*e.spacing.unit},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:60*e.spacing.unit}}})(Qs),Ns=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(F.a,{variant:"h5"},"Woops! This page does not exist.")}}]),t}(s.a.Component),Ds=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).styles=e.classes,a.profStore=new xe,a.apiProfService=new _e(a.profStore),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.profStore.dataLoaded||this.apiProfService.loadData().then(function(){e.profStore.dataLoaded=!0})}},{key:"render",value:function(){return s.a.createElement(g.a,{profStore:this.profStore,apiService:this.apiProfService},s.a.createElement("div",null,s.a.createElement(E.a,null),s.a.createElement(f.a,{path:"/professor",component:Ce}),s.a.createElement("nav",null,s.a.createElement(S.a,{xsDown:!0,implementation:"css"},s.a.createElement(f.a,{path:"/professor",component:J}))),s.a.createElement("main",{className:this.styles.content},s.a.createElement(m.a,null,s.a.createElement(f.a,{exact:!0,path:"/professor",component:oa}),s.a.createElement(f.a,{path:"/professor/new",component:da}),s.a.createElement(f.a,{path:"/professor/:courseId/lectures",component:xa}),s.a.createElement(f.a,{path:"/professor/:courseId/new",component:Ls}),s.a.createElement(f.a,{exact:!0,path:"/professor/:lectureId/questions",component:ss}),s.a.createElement(f.a,{path:"/professor/:lectureId/questions/new-mc",component:Ss}),s.a.createElement(f.a,{path:"/professor/:lectureId/questions/new-free-text",component:Os}),s.a.createElement(f.a,{path:"/professor/:lectureId/questions/new-slider",component:xs}),s.a.createElement(f.a,{component:Ns})))))}}]),t}(s.a.Component),Ts=Object(y.withStyles)(function(e){var t;return{content:(t={},Object(b.a)(t,e.breakpoints.up("sm"),{marginLeft:240}),Object(b.a)(t,"flexGrow",1),Object(b.a)(t,"padding",3*e.spacing.unit),t)}})(Ds),As=(cs=function(){function e(){Object(l.a)(this,e),Object(je.a)(this,"courses",us,this),Object(je.a)(this,"questions",ds,this),Object(je.a)(this,"prevQuestions",ps,this),Object(je.a)(this,"lastQuestion",hs,this),Object(je.a)(this,"lastAnswer",ms,this),Object(je.a)(this,"socketIOStatus",fs,this)}return Object(c.a)(e,[{key:"setSocketIOStatus",value:function(e){this.socketIOStatus=e}},{key:"updateLastQuestion",value:function(e){this.lastQuestion=e}},{key:"resetQuestions",value:function(){this.questions=[],this.prevQuestions=[],this.lastAnswer=null,this.lastQuestion=null}},{key:"updateLastAnswer",value:function(e){this.lastAnswer=e}},{key:"updateAllCourses",value:function(e){var t=this;this.courses=[],e.forEach(function(e){e.num=e.coursenum,e.joinCode=e.enroll_code,t.courses.push(new ca(e))})}},{key:"dropCourse",value:function(e){this.courses.remove(this.courses.find(function(t){return t.id===e}))}},{key:"getQuestionWithId",value:function(e){return this.questions.find(function(t){return t.id===e})}},{key:"getPrevQuestionWithId",value:function(e){return this.prevQuestions.find(function(t){return t.id===e})}},{key:"updateQuestion",value:function(e){var t=this.questions.find(function(t){return t.id===e.id});"free_text"===e.question_type&&(t.id=e.id,t.lecture_id=e.lecture_id,t.question_type=e.question_type,t.question_title=e.question_title,t.correct_answer=e.correct_answer,t.creator_id=e.creator_id,t.is_open=e.is_open,t.opened_at=e.opened_at,t.closed_at=e.closed_at,t.created_at=e.created_at,t.modified_at=e.modified_at,t.answer=e.answer,t.word_limit=e.word_limit)}},{key:"updateAllQuestions",value:function(e){var t=this;this.questions=[],e.forEach(function(e){"multiple_choice"===e.question_type?t.questions.push(new En(e.id,e.lecture_id,e.question_type,e.question_title,e.question_image,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.option1,e.option2,e.option3,e.option4,e.option5,e.number_of_options)):"free_text"===e.question_type?t.questions.push(new Sn(e.id,e.lecture_id,e.question_type,e.question_title,e.question_image,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.word_limit)):t.questions.push(new wn(e.id,e.lecture_id,e.question_type,e.question_title,e.question_image,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.lower_label,e.upper_label))})}},{key:"updateAllPrevQuestions",value:function(e){var t=this;this.prevQuestions=[],e.forEach(function(e){console.log(e.question_title),"multiple_choice"===e.question_type?t.prevQuestions.push(new En(e.id,e.lecture_id,e.question_type,e.question_title,e.question_image,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.option1,e.option2,e.option3,e.option4,e.option5,e.number_of_options)):"free_text"===e.question_type?t.prevQuestions.push(new Sn(e.id,e.lecture_id,e.question_type,e.question_title,e.question_image,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.word_limit)):t.prevQuestions.push(new wn(e.id,e.lecture_id,e.question_type,e.question_title,e.question_image,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.lower_label,e.upper_label))})}},{key:"addOneQuestion",value:function(e){void 0===this.questions.find(function(t){return t.id===e.id})&&("multiple_choice"===e.question_type?this.questions.push(new En(e.id,e.lecture_id,e.question_type,e.question_title,e.question_image,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.option1,e.option2,e.option3,e.option4,e.option5,e.number_of_options)):"free_text"===e.question_type?this.questions.push(new Sn(e.id,e.lecture_id,e.question_type,e.question_title,e.question_image,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.word_limit)):this.questions.push(new wn(e.id,e.lecture_id,e.question_type,e.question_title,e.question_image,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.lower_label,e.upper_label)))}},{key:"updateOneQuestion",value:function(e){var t,a=e.id,n=this.questions.find(function(e){return e.id===a}),s=this.questions.indexOf(n);s<=-1?this.addOneQuestion(e):(t="multiple_choice"===e.question_type?new En(e.id,e.lecture_id,e.question_type,e.question_title,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.option1,e.option2,e.option3,e.option4,e.option5,e.number_of_options):"free_text"===e.question_type?new Sn(e.id,e.lecture_id,e.question_type,e.question_title,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.word_limit):new wn(e.id,e.lecture_id,e.question_type,e.question_title,e.correct_answer,e.creator_id,e.is_open,e.scheduled,e.opened_at,e.closed_at,e.created_at,e.modified_at,e.answer,e.lower_label,e.upper_label),this.questions[s]=t)}},{key:"removeQuestionById",value:function(e){this.questions.remove(this.questions.find(function(t){return t.id===e}))}},{key:"getNumberOfQuestions",value:function(){return this.questions.length}}]),e}(),us=Object(ke.a)(cs.prototype,"courses",[Ie.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ds=Object(ke.a)(cs.prototype,"questions",[Ie.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ps=Object(ke.a)(cs.prototype,"prevQuestions",[Ie.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hs=Object(ke.a)(cs.prototype,"lastQuestion",[Ie.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ms=Object(ke.a)(cs.prototype,"lastAnswer",[Ie.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fs=Object(ke.a)(cs.prototype,"socketIOStatus",[Ie.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(ke.a)(cs.prototype,"setSocketIOStatus",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"setSocketIOStatus"),cs.prototype),Object(ke.a)(cs.prototype,"updateLastQuestion",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"updateLastQuestion"),cs.prototype),Object(ke.a)(cs.prototype,"resetQuestions",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"resetQuestions"),cs.prototype),Object(ke.a)(cs.prototype,"updateLastAnswer",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"updateLastAnswer"),cs.prototype),Object(ke.a)(cs.prototype,"updateAllCourses",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"updateAllCourses"),cs.prototype),Object(ke.a)(cs.prototype,"dropCourse",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"dropCourse"),cs.prototype),Object(ke.a)(cs.prototype,"updateQuestion",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"updateQuestion"),cs.prototype),Object(ke.a)(cs.prototype,"updateAllQuestions",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"updateAllQuestions"),cs.prototype),Object(ke.a)(cs.prototype,"updateAllPrevQuestions",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"updateAllPrevQuestions"),cs.prototype),Object(ke.a)(cs.prototype,"addOneQuestion",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"addOneQuestion"),cs.prototype),Object(ke.a)(cs.prototype,"updateOneQuestion",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"updateOneQuestion"),cs.prototype),Object(ke.a)(cs.prototype,"removeQuestionById",[Ie.d],Object.getOwnPropertyDescriptor(cs.prototype,"removeQuestionById"),cs.prototype),cs),Ps=function(){function e(t){Object(l.a)(this,e),this.studentStore=t}return Object(c.a)(e,[{key:"loadAllCourses",value:function(){var e=this;ge().then(function(t){console.log(t.data),e.studentStore.updateAllCourses(t.data)}).catch(function(t){console.log(t.response),e._checkAuth(t)})}},{key:"getName",value:function(){var e=Object(de.a)(ue.a.mark(function e(){var t=this;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he.a.get(be+"student/name").then(function(e){return e.data.name}).catch(function(e){return console.log(e),t._checkAuth(e),[]}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadAllQuestions",value:function(e){var t=this;(function(e){return he.a.get(be+"student/courses/"+e+"/questions")})(e).then(function(e){console.log(e.data),t.studentStore.updateAllQuestions(e.data)}).catch(function(e){console.log(e.response),t._checkAuth(e)})}},{key:"loadAllPrevQuestions",value:function(e){var t=this;(function(e){return he.a.get(be+"student/courses/"+e+"/prevquestions")})(e).then(function(e){console.log(e.data),t.studentStore.updateAllPrevQuestions(e.data)}).catch(function(e){console.log(e.response),t._checkAuth(e)})}},{key:"dropCourse",value:function(e){var t=this;(function(e){return he.a.delete(be+"student/courses/"+e)})(e).then(this.studentStore.dropCourse(e)).catch(function(e){console.log(e.response),t._checkAuth(e)})}},{key:"postAnswer",value:function(){var e=Object(de.a)(ue.a.mark(function e(t,a){var n=this;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ve(t,a).then(function(e){return e.data}).catch(function(e){console.log(e.response),n._checkAuth(e)});case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"enrollCourse",value:function(){var e=Object(de.a)(ue.a.mark(function e(t){var a=this;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ye(t).then(function(e){return ge().then(function(e){console.log(e.data),a.studentStore.updateAllCourses(e.data)}).catch(function(e){console.log(e.response),a._checkAuth(e)}),null}).catch(function(e){return console.log(e.response),a._checkAuth(e),e.response.data}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getLogoutStudent",value:function(){var e=Object(de.a)(ue.a.mark(function e(){var t=this;return ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:he.a.get(be+"student/logout").catch(function(e){console.log(e.response),t._checkAuth(e)});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_checkAuth",value:function(e){void 0!==e.response&&401===e.response.status&&window.location.replace("/login-student")}}]),e}(),Vs=a(5881),Fs=Object(g.b)("store")(bs=Object(g.c)(bs=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={link:"student/questions",colorStyle:void 0,open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleDelete=function(){a.apiStudentService.dropCourse(a.props.id),a.handleClose()},a.store=e.store,a.apiStudentService=new Ps(a.store),a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=[this.styles.orangeCard,this.styles.greenCard,this.styles.yellowCard,this.styles.navyCard];this.setState({colorStyle:e[this.props.colorIndex]})}},{key:"render",value:function(){return s.a.createElement(De.a,{className:this.state.colorStyle},s.a.createElement(Ae.a,null,s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"stretch",spacing:24},s.a.createElement(N.a,{item:!0,xs:10},s.a.createElement(Vs.a,{className:this.styles.link,to:{pathname:"/student/questions",state:{course_id:this.props.id}}},s.a.createElement(F.a,{className:this.styles.typography,variant:"h4"},this.props.course.dept," ",this.props.course.num," - ",this.props.course.title,": ",this.props.course.term," ",this.props.course.year))),s.a.createElement(N.a,{item:!0,xs:2},s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end"},s.a.createElement(Ue.a,{title:"Drop Course",disableFocusListener:!0,placement:"top-start"},s.a.createElement(Le.a,{variant:"text",size:"small",onClick:this.handleOpen},s.a.createElement(Mt.a,{className:this.styles.icon,color:"secondary"},"delete"))))),s.a.createElement(Ut.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},'Are you sure you want to delete "'+this.props.name+'"?'),s.a.createElement(Ht.a,null,s.a.createElement(Zt.a,{id:"alert-dialog-description"},"Doing so will remove this course and all of its data permanently.")),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,autoFocus:!0,color:"secondary"},"no"),s.a.createElement(Le.a,{onClick:this.handleDelete,color:"secondary"},"yes"))))))}}]),t}(s.a.Component))||bs)||bs,Ms=Object(y.withStyles)(function(e){return{yellowCard:{margin:e.spacing.unit,width:"98%",background:e.palette.primary.main},navyCard:{margin:e.spacing.unit,width:"98%",background:e.palette.secondary.light},greenCard:{margin:e.spacing.unit,width:"98%",background:e.palette.primary.light},orangeCard:{margin:e.spacing.unit,width:"98%",background:e.palette.primary.dark},link:{width:"98%",textDecoration:"none"},icon:{margin:e.spacing.unit},typography:{width:"100%"}}})(Fs),Ws=a(168),Rs=a.n(Ws),Bs=Object(g.b)("store")(gs=Object(g.c)(gs=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={logout:!1},a.handleLogout=function(){a.apiStudentService.getLogoutStudent(),a.setState({logout:!0})},a.store=a.props.store,a.apiStudentService=new Ps(a.store),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.logout?s.a.createElement(se.a,{to:"/",push:!0}):s.a.createElement(Le.a,{onClick:this.handleLogout},"logout")}}]),t}(s.a.Component))||gs)||gs,Us=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(X.a,{position:"static",color:"primary"},s.a.createElement(te.a,null,s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},s.a.createElement(N.a,{item:!0},s.a.createElement(Vs.a,{to:"/student"},s.a.createElement("img",{src:Rs.a,alt:"logo",width:"100"}))),s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",alignItems:"right"},s.a.createElement(F.a,{variant:"h5",color:"secondary"}," ",this.props.userName," "),s.a.createElement(Bs,null)))))))}}]),t}(s.a.Component),zs=a(290),Ys=a.n(zs),Gs=Object(g.b)("store")(ys=Object(g.c)(ys=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={message:"Enter Course Enrollment Code:",open:!1,code:"",disabled:!0,errorMsg:null},a.handleChange=function(e){var t;e.target.value.length>0?a.setState((t={},Object(b.a)(t,e.target.name,e.target.value.toUpperCase()),Object(b.a)(t,"disabled",!1),t)):a.setState(Object(b.a)({disabled:!0},e.target.name,e.target.value.toUpperCase()))},a.handleOpen=function(){a.setState({message:"Enter Course Enrollment Code:",open:!0,code:"",disabled:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.enroll(),"Enter Course Enrollment Code:"===a.state.message&&(a.apiStudentService.loadAllCourses(),a.handleClose())},a.styles=e.classes,a.store=e.store,a.apiStudentService=new Ps(a.store),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"enroll",value:function(){var e=this;this.apiStudentService.enrollCourse(this.state.code).then(function(t){null!==t?e.setState(function(){return{message:t.error,disabled:!0,open:!0}}):e.setState(function(){return{open:!1}})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Ys.a,{color:"secondary","aria-label":"Add",className:this.styles.button,onClick:this.handleOpen},s.a.createElement(Mt.a,{className:this.styles.icon},"add")),s.a.createElement(Ut.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Kt.a,{id:"alert-dialog-title"},this.state.message),s.a.createElement(Ht.a,null,s.a.createElement(it.a,{id:"title",helperText:"Enter code",name:"code",value:this.state.code,onChange:function(t){return e.handleChange(t)},fullWidth:!0})),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,color:"secondary"},"cancel"),s.a.createElement(Le.a,{onClick:this.handleSubmit,disabled:this.state.disabled,color:"secondary"},"enroll"))))}}]),t}(s.a.Component))||ys)||ys,Hs=Object(y.withStyles)(function(e){return{button:{color:e.palette.secondary.main,marginRight:2*e.spacing.unit},icon:{margin:e.spacing.unit,color:"white"}}})(Gs),$s=function(){function e(t){var a=this;Object(l.a)(this,e),this.store=t,this.socket=La()(fe),this.timeout=null,t.setSocketIOStatus(!0),setTimeout(function(){a.checkConnection()},1e3)}return Object(c.a)(e,[{key:"reset",value:function(){this.store.resetQuestions()}},{key:"subscribe",value:function(e){this.socket.emit("subscribe student",e)}},{key:"detectOpenQuestion",value:function(){var e=this;this.socket.on("question opened",function(t){e.store.addOneQuestion(t.question)})}},{key:"detectCloseQuestion",value:function(){var e=this;this.socket.on("question closed",function(t){e.store.updateLastQuestion(t.question),e.store.removeQuestionById(t.question.id)})}},{key:"listen",value:function(){this.socket.on("server message",function(e){console.log("Received message: "+e)})}},{key:"getAllQuestions",value:function(){var e=this;return this.socket.on("all open questions",function(t){e.store.updateAllQuestions(t.questions),console.log(t)})}},{key:"startCheckingConnection",value:function(){var e=this;this.timeout=setInterval(function(){e.checkConnection()},1e3)}},{key:"stopCheckingConnection",value:function(){clearTimeout(this.timeout)}},{key:"checkConnection",value:function(){this.socket.connected?this.store.setSocketIOStatus(!0):this.store.setSocketIOStatus(!1)}}]),e}(),Zs=Object(g.b)("store")(vs=Object(g.c)(vs=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={course_ids:[],userName:"",showArchive:!1},a.store=e.store,a.apiStudentService=new Ps(a.store),a.styles=e.classes,a.socketIOStudentService=new $s(a.store),a.handleToggleArchive=a.handleToggleArchive.bind(Object(la.a)(Object(la.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.apiStudentService.getName().then(function(t){e.setState({userName:t})})}},{key:"componentWillReceiveProps",value:function(){this.apiStudentService.loadAllCourses()}},{key:"handleToggleArchive",value:function(){this.setState(function(e){return Object(ta.a)({},e,{showArchive:!e.showArchive})})}},{key:"render",value:function(){var e=this.store.courses.filter(function(e){return e.is_current}),t=this.store.courses.filter(function(e){return!e.is_current}),a=this.state.showArchive?"":"Show";return s.a.createElement(N.a,{container:!0,direction:"column",spacing:Number("16")},s.a.createElement(Us,{userName:this.state.userName}),s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(Sa.a,{className:this.styles.paper},s.a.createElement(N.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"space-between",className:this.styles.gridContainer},s.a.createElement(N.a,{item:!0,xs:12,sm:10},s.a.createElement(F.a,{variant:"h2",color:"secondary",className:this.styles.typeography}," My Classes ")),s.a.createElement(N.a,{item:!0,container:!0,justify:"flex-end",xs:12,sm:2},s.a.createElement(Hs,null))),s.a.createElement(N.a,{container:!0,justify:"center",alignItems:"flex-end"},e.map(function(e,t){var a=t%4;return s.a.createElement(Ms,{key:t,course:e,id:e.id,colorIndex:a})})))),s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(Sa.a,{className:this.styles.paper},s.a.createElement(N.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"space-between",className:this.styles.gridContainer},s.a.createElement(N.a,{item:!0,xs:12,sm:10},s.a.createElement(F.a,{variant:"h2",color:"secondary",className:this.styles.typeography}," ",a," Archived Courses ")),s.a.createElement(N.a,{item:!0,container:!0,justify:"flex-end",xs:12,sm:2},s.a.createElement($.a,{color:"secondary",onClick:this.handleToggleArchive},this.state.showArchive?s.a.createElement(B.a,null):s.a.createElement(z.a,null)))),s.a.createElement(W.a,{in:this.state.showArchive,timeout:"auto",unmountOnExit:!0},s.a.createElement(N.a,{container:!0,justify:"center",alignItems:"flex-end"},t.map(function(e,t){var a=t%4;return s.a.createElement(Ms,{key:t,course:e,id:e.id,colorIndex:a})}))))))}}]),t}(n.Component))||vs)||vs,Js=Object(y.withStyles)(function(e){return{gridContainer:{margin:e.spacing.unit},gridItem:{padding:e.spacing.unit},paper:{padding:2*e.spacing.unit}}})(Zs),Ks=a(101),Xs=a.n(Ks),ei=a(156);function ti(e){return s.a.createElement(Xs.a,Object.assign({direction:"up"},e))}var ai,ni=Object(g.b)("store")(Es=Object(g.c)(Es=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={answer:"",sent:"",disabled:!1,dialogue:!1,time:0,isOn:!1},a.handleSubmit=function(){a.apiStudentService.postAnswer(a.state.answer,a.question.id),a.setState({sent:a.state.answer,disabled:!0})},a.handleClick=function(e){""===a.state.sent?a.handleSubmit():a.state.sent!==a.state.answer&&a.setState({dialogue:!0})},a.handleChange=function(e){e.target.value===a.state.sent?a.setState({disabled:!0}):a.setState({disabled:!1}),a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleClose=function(){a.setState({dialogue:!1})},a.handleCloseSubmit=function(){a.setState({dialogue:!1}),a.handleSubmit()},a.store=a.props.store,a.styles=e.classes,a.apiStudentService=new Ps(a.store),a.question=a.store.getQuestionWithId(a.props.questionId),a.startTimer=a.startTimer.bind(Object(la.a)(Object(la.a)(a))),a.stopTimer=a.stopTimer.bind(Object(la.a)(Object(la.a)(a))),a.resetTimer=a.resetTimer.bind(Object(la.a)(Object(la.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"startTimer",value:function(){var e=this;this.setState({isOn:!0}),this.timer=setInterval(function(){return e.setState({time:Date.now()-new Date(e.question.opened_at)})},1)}},{key:"stopTimer",value:function(){this.setState({isOn:!1}),clearInterval(this.timer)}},{key:"resetTimer",value:function(){this.setState({isOn:!1})}},{key:"componentDidMount",value:function(){this.state.isOn?0!==this.state.time&&this.state.isOn&&(this.stopTimer(),this.resetTimer()):this.startTimer()}},{key:"componentWillUnmount",value:function(){this.store.updateLastAnswer(this.state.sent),this.stopTimer(),this.resetTimer()}},{key:"render",value:function(){var e=this,t="Open for ".concat(this.state.time<1e3?"0s":ei(this.state.time,{secDecimalDigits:0}));return!0===this.question.scheduled&&(t="Open from ".concat(this.question.opened_at," to ").concat(this.question.closed_at)),s.a.createElement("div",null,s.a.createElement(Sa.a,{className:this.styles.paper},s.a.createElement(N.a,{container:!0,direction:"column",className:this.styles.gridContainer},s.a.createElement(F.a,{variant:"h5",color:"secondary"}," ",this.question.question_title," "),s.a.createElement(F.a,{variant:"subtitle2",color:"secondary"},s.a.createElement(Ha.a,{className:this.styles.icon})," ",t),s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(it.a,{id:"full-width",helperText:"Enter Response",name:"answer",value:this.state.answer,onChange:function(t){return e.handleChange(t)},fullWidth:!0}))),s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end",className:this.styles.buttonContainer},s.a.createElement(Le.a,{onClick:this.handleClick,disabled:this.state.disabled,variant:"contained",color:"secondary"},"Submit"),s.a.createElement(Ut.a,{open:this.state.dialogue,TransitionComponent:ti,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},s.a.createElement(Kt.a,{id:"alert-dialog-slide-title"},"Answer changed- "),s.a.createElement(Ht.a,null,s.a.createElement(Zt.a,{id:"alert-dialog-slide-description"},'"Are you sure you want to change your answer from ',this.state.sent," to ",this.state.answer,'?"')),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,color:"primary"},"no"),s.a.createElement(Le.a,{onClick:this.handleCloseSubmit,color:"primary"},"yes"))))))}}]),t}(n.Component))||Es)||Es,si=Object(y.withStyles)(function(e){return{gridContainer:{margin:e.spacing.unit},gridItem:{paddingRight:2*e.spacing.unit},buttonContainer:{padding:1.5*e.spacing.unit},paper:{padding:e.spacing.unit},icon:{fontSize:12}}})(ni),ii=a(156);function ri(e){return s.a.createElement(Xs.a,Object.assign({direction:"up"},e))}var oi,li=Object(g.b)("store")(ai=Object(g.c)(ai=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={answerchoices:[],answer:"",sent:"",dialogue:!1,disabled:!1,time:0,isOn:!1},a.handleChange=function(e){a.setState({answer:e.target.value}),e.target.value===a.state.sent?a.setState({disabled:!0}):a.setState({disabled:!1})},a.handleSubmit=function(){a.apiStudentService.postAnswer((a.state.answerchoices.indexOf(a.state.answer)+1).toString(),a.props.questionId),a.setState({sent:a.state.answer,disabled:!0})},a.handleClick=function(){""===a.state.sent?a.handleSubmit():a.state.sent!==a.state.answer&&a.setState({dialogue:!0})},a.handleClose=function(){a.setState({dialogue:!1,answer:a.state.sent,disabled:!0})},a.handleCloseSubmit=function(){a.setState({dialogue:!1}),a.handleSubmit()},a.store=a.props.store,a.styles=e.classes,a.apiStudentService=new Ps(a.store),a.question=a.store.getQuestionWithId(a.props.questionId),a.startTimer=a.startTimer.bind(Object(la.a)(Object(la.a)(a))),a.stopTimer=a.stopTimer.bind(Object(la.a)(Object(la.a)(a))),a.resetTimer=a.resetTimer.bind(Object(la.a)(Object(la.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"startTimer",value:function(){var e=this;this.setState({isOn:!0}),this.timer=setInterval(function(){return e.setState({time:Date.now()-new Date(e.question.opened_at)})},1)}},{key:"stopTimer",value:function(){this.setState({isOn:!1}),clearInterval(this.timer)}},{key:"resetTimer",value:function(){this.setState({isOn:!1})}},{key:"componentDidMount",value:function(){for(var e=[],t=1;t<=this.question.number_of_options;t++){var a=this.question["option"+t.toString()];e.push(a)}this.setState({answerchoices:e}),this.state.isOn?0!==this.state.time&&this.state.isOn&&(this.stopTimer(),this.resetTimer()):this.startTimer()}},{key:"componentWillUnmount",value:function(){this.store.updateLastAnswer(this.state.answerchoices.indexOf(this.state.sent)+1),this.stopTimer(),this.resetTimer()}},{key:"render",value:function(){var e=this,t="Open for ".concat(this.state.time<1e3?"0s":ii(this.state.time,{secDecimalDigits:0}));return!0===this.question.scheduled&&(t="Open from ".concat(this.question.opened_at," to ").concat(this.question.closed_at)),s.a.createElement("div",null,s.a.createElement(Sa.a,{className:this.styles.paper},s.a.createElement(N.a,{container:!0,direction:"column",className:this.styles.gridContainer},s.a.createElement(F.a,{variant:"h5",color:"secondary"}," ",this.question.question_title," "),s.a.createElement(F.a,{variant:"subtitle2",color:"secondary"},s.a.createElement(Ha.a,{className:this.styles.icon})," ",t),s.a.createElement(He.a,{component:"fieldset"},s.a.createElement(zn.a,{name:"answers",value:this.state.answer,onChange:this.handleChange},this.state.answerchoices.map(function(t,a){return s.a.createElement(At.a,{value:t,key:t,control:s.a.createElement(Bn.a,null),label:t,className:e.styles.answerOption})})))),s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end",className:this.styles.buttonContainer},s.a.createElement(Le.a,{onClick:this.handleClick,disabled:this.state.disabled,value:this.state.answer,variant:"contained",color:"secondary"},"Submit"),s.a.createElement(Ut.a,{open:this.state.dialogue,TransitionComponent:ri,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},s.a.createElement(Kt.a,{id:"alert-dialog-slide-title"},"Answer changed- "),s.a.createElement(Ht.a,null,s.a.createElement(Zt.a,{id:"alert-dialog-slide-description"},'"Are you sure you want to change your answer from ',this.state.sent," to ",this.state.answer,'?"')),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,color:"primary"},"no"),s.a.createElement(Le.a,{onClick:this.handleCloseSubmit,color:"primary"},"yes"))))))}}]),t}(n.Component))||ai)||ai,ci=Object(y.withStyles)(function(e){return{gridContainer:{margin:e.spacing.unit},buttonContainer:{padding:1.5*e.spacing.unit},answerOption:{marginLeft:.3*e.spacing.unit},paper:{padding:e.spacing.unit},icon:{fontSize:12}}})(li),ui=a(156);function di(e){return s.a.createElement(Xs.a,Object.assign({direction:"up"},e))}var pi,hi,mi,fi,bi,gi=Object(g.b)("store")(oi=Object(g.c)(oi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={answer:50,sent:"",disabled:!1,dialogue:!1,time:0,isOn:!1},a.handleSubmit=function(){a.apiStudentService.postAnswer(a.state.answer.toString(),a.question.id),a.setState({sent:a.state.answer,disabled:!0})},a.handleClick=function(e){""===a.state.sent?a.handleSubmit():a.state.sent!==a.state.answer&&a.setState({dialogue:!0})},a.handleSliderChange=function(e,t){t===a.state.sent?a.setState({disabled:!0}):a.setState({disabled:!1}),a.setState({answer:t})},a.handleClose=function(){a.setState({dialogue:!1})},a.handleCloseSubmit=function(){a.setState({dialogue:!1}),a.handleSubmit()},a.store=a.props.store,a.styles=e.classes,a.apiStudentService=new Ps(a.store),a.question=a.store.getQuestionWithId(a.props.questionId),a.startTimer=a.startTimer.bind(Object(la.a)(Object(la.a)(a))),a.stopTimer=a.stopTimer.bind(Object(la.a)(Object(la.a)(a))),a.resetTimer=a.resetTimer.bind(Object(la.a)(Object(la.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"startTimer",value:function(){var e=this;this.setState({isOn:!0}),this.timer=setInterval(function(){return e.setState({time:Date.now()-new Date(e.question.opened_at)})},1)}},{key:"stopTimer",value:function(){this.setState({isOn:!1}),clearInterval(this.timer)}},{key:"resetTimer",value:function(){this.setState({isOn:!1})}},{key:"componentDidMount",value:function(){this.state.isOn?0!==this.state.time&&this.state.isOn&&(this.stopTimer(),this.resetTimer()):this.startTimer()}},{key:"componentWillUnmount",value:function(){this.store.updateLastAnswer(this.state.sent),this.stopTimer(),this.resetTimer()}},{key:"render",value:function(){var e="Open for ".concat(this.state.time<1e3?"0s":ui(this.state.time,{secDecimalDigits:0}));return!0===this.question.scheduled&&(e="Open from ".concat(this.question.opened_at," to ").concat(this.question.closed_at)),s.a.createElement("div",null,s.a.createElement(Sa.a,{className:this.styles.paper},s.a.createElement(N.a,{container:!0,direction:"column",justify:"space-between",className:this.styles.gridContainer},s.a.createElement(N.a,{item:!0},s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",spacing:24},s.a.createElement(N.a,{item:!0,xs:!0},s.a.createElement("div",{className:this.styles.titleWrap}," ",this.question.question_title," "),s.a.createElement(F.a,{variant:"subtitle2",color:"secondary"},s.a.createElement(Ha.a,{className:this.styles.icon})," ",e)),s.a.createElement(N.a,{item:!0,xs:4},s.a.createElement(N.a,{container:!0,justify:"flex-end",direction:"row",className:this.styles.percentContainer},s.a.createElement(De.a,{className:this.styles.card},s.a.createElement(F.a,{align:"center",className:this.styles.whiteTypography},this.state.answer.toString()+" ","%")))))),s.a.createElement(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:24,className:this.styles.gridItem},s.a.createElement(N.a,{item:!0,xs:!0},s.a.createElement(N.a,{container:!0,justify:"center"},s.a.createElement("div",{className:this.styles.labels},this.question.lower_label))),s.a.createElement(N.a,{item:!0,xs:6},s.a.createElement(js.a,{value:this.state.answer,min:0,max:100,step:1,"aria-labelledby":"label",onChange:this.handleSliderChange})),s.a.createElement(N.a,{item:!0,xs:!0},s.a.createElement(N.a,{container:!0,justify:"center"},s.a.createElement("div",{className:this.styles.labels},this.question.upper_label))))),s.a.createElement(N.a,{container:!0,direction:"row",justify:"flex-end",className:this.styles.buttonContainer},s.a.createElement(N.a,{item:!0},s.a.createElement(Le.a,{onClick:this.handleClick,disabled:this.state.disabled,variant:"contained",color:"secondary"},"Submit")))),s.a.createElement(Ut.a,{open:this.state.dialogue,TransitionComponent:di,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},s.a.createElement(Kt.a,{id:"alert-dialog-slide-title"},"Answer changed- "),s.a.createElement(Ht.a,null,s.a.createElement(Zt.a,{id:"alert-dialog-slide-description"},'"Are you sure you want to change your answer from ',this.state.sent," to ",this.state.answer,'?"')),s.a.createElement(Yt.a,null,s.a.createElement(Le.a,{onClick:this.handleClose,color:"primary"},"no"),s.a.createElement(Le.a,{onClick:this.handleCloseSubmit,color:"primary"},"yes"))))}}]),t}(n.Component))||oi)||oi,yi=Object(y.withStyles)(function(e){return{gridContainer:{margin:e.spacing.unit},gridItem:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,paddingRight:1.5*e.spacing.unit},buttonContainer:{padding:1.5*e.spacing.unit,width:"100%"},percentContainer:{paddingRight:3*e.spacing.unit},labels:{wordBreak:"break-word",fontFamily:"sans-serif",fontSize:"1em",display:"flex",justifyContent:"center"},titleWrap:{wordBreak:"break-word",fontFamily:"sans-serif",fontSize:"1.5em",display:"flex",color:e.palette.secondary.main},card:{backgroundColor:e.palette.secondary.main,padding:.25*e.spacing.unit,width:45},whiteTypography:{color:"white"},paper:{padding:e.spacing.unit},icon:{fontSize:12}}})(gi),vi=Object(g.b)("store")(pi=Object(g.c)(pi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).store=e.store,a.styles=e.classes,a.apiStudentService=new Ps(a.store),a.question=null,a.answer=null,a.answerchoices=[],a.correct=null,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;this.props.isLast?(this.question=this.store.lastQuestion,this.answer=this.store.lastAnswer):(this.question=this.store.getPrevQuestionWithId(this.props.questionId),this.answer=this.question.answer);for(var t=[],a=1;a<=this.question.number_of_options;a++){var n=this.question["option"+a.toString()];t.push(n)}this.answerchoices=t;var i=this.question.correct_answer;return void 0!==i&&(this.correct=null!==i&&""!==i?Number(i)-1:null),s.a.createElement("div",null,s.a.createElement(Sa.a,{className:this.styles.paper},s.a.createElement(N.a,{container:!0,direction:"column",className:this.styles.gridContainer},s.a.createElement(F.a,{variant:"h5",color:"secondary"}," ",this.question.question_title," "),s.a.createElement(He.a,{component:"fieldset"},s.a.createElement(zn.a,{name:"answers"},this.answerchoices.map(function(t,a){var n;return void 0===e.correct||null===e.correct?n=e.styles.neutralAnswer:a===e.correct?n=e.styles.correctAnswer:parseInt(e.answer,10)-1===a&&(n=e.styles.wrongAnswer),s.a.createElement(At.a,{value:t,key:t,control:s.a.createElement(Bn.a,{disabled:!0,checked:a===parseInt(e.answer)-1}),label:t,className:n})}))))))}}]),t}(n.Component))||pi)||pi,Ei=Object(y.withStyles)(function(e){return{gridContainer:{margin:e.spacing.unit},buttonContainer:{padding:1.5*e.spacing.unit},correctAnswer:{backgroundColor:e.palette.primary.light,marginLeft:.3*e.spacing.unit},wrongAnswer:{backgroundColor:e.palette.primary.dark,marginLeft:.3*e.spacing.unit},neutralAnswer:{marginLeft:.3*e.spacing.unit},paper:{padding:e.spacing.unit}}})(vi),wi=Object(g.b)("store")(hi=Object(g.c)(hi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).store=e.store,a.styles=e.classes,a.apiStudentService=new Ps(a.store),a.question=null,a.answer="",a.correct=null,a.helperText="",a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){this.props.isLast?(this.question=this.store.lastQuestion,null!==this.store.lastAnswer&&(this.answer=this.store.lastAnswer)):(this.question=this.store.getPrevQuestionWithId(this.props.questionId),null!==this.question.answer&&(this.answer=this.question.answer));var e,t=this.question.correct_answer;return void 0!==t&&(this.correct=t,""===t||null===t?this.helperText="Your Answer: ":this.answer===t?this.helperText="Correct":this.helperText="Correct Answer: "+t),e=this.correct&&""!==this.correct?this.answer===this.correct?this.styles.correctAnswer:this.styles.wrongAnswer:this.styles.neutralAnswer,s.a.createElement("div",null,s.a.createElement(Sa.a,{className:this.styles.paper},s.a.createElement(N.a,{container:!0,direction:"column",className:this.styles.gridContainer},s.a.createElement(F.a,{variant:"h5",color:"secondary"}," ",this.question.question_title," "),s.a.createElement(N.a,{item:!0,className:this.styles.gridItem},s.a.createElement(it.a,{id:"full-width",helperText:this.helperText,name:"answer",value:this.answer,fullWidth:!0,disabled:!0,className:e})))))}}]),t}(n.Component))||hi)||hi,Si=Object(y.withStyles)(function(e){return{gridContainer:{margin:e.spacing.unit},gridItem:{paddingRight:2*e.spacing.unit},buttonContainer:{padding:1.5*e.spacing.unit},correctAnswer:{backgroundColor:e.palette.primary.light},wrongAnswer:{backgroundColor:e.palette.primary.dark},neutralAnswer:{},paper:{padding:e.spacing.unit}}})(wi),_i=Object(g.b)("store")(mi=Object(g.c)(mi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).store=e.store,a.styles=e.classes,a.apiStudentService=new Ps(a.store),a.question=null,a.answer=-1,a.helperText="",a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"operatorToComparison",value:function(e,t,a){var n=!1;switch(t){case"<":n=e<a;break;case"<=":n=e<=a;break;case">":n=e>a;break;case">=":n=e>=a;break;default:n=e===a}return n}},{key:"checkAnswer",value:function(e,t){if(null===e||""===e)return!0;var a=e.split(" ");if(2===a.length)return this.operatorToComparison(Number(t),a[0],Number(a[1]));var n=this.operatorToComparison(Number(t),a[0],Number(a[1])),s=this.operatorToComparison(Number(t),a[3],Number(a[4]));return"&&"===a[2]?n&&s:n||s}},{key:"operatorToWord",value:function(e){var t="equals";switch(e){case"<":t="<";break;case"<=":t="\u2264";break;case">":t=">";break;case">=":t="\u2265";break;case"||":t="or";break;case"&&":t="and";break;default:t="="}return t}},{key:"getAnswerText",value:function(e){if(null===e)return"";var t=e.split(" ");return 2===t.length?"answer "+this.operatorToWord(t[0])+" "+t[1]+"%":"answer "+this.operatorToWord(t[0])+" "+t[1]+"% "+this.operatorToWord(t[2])+" "+this.operatorToWord(t[3])+" "+t[4]+"%"}},{key:"render",value:function(){var e;return this.props.isLast?(this.question=this.store.lastQuestion,null!==this.store.lastAnswer&&(this.answer=Number(this.store.lastAnswer))):(this.question=this.store.getPrevQuestionWithId(this.props.questionId),null!==this.question.answer&&(this.answer=Number(this.question.answer))),e=this.checkAnswer(this.question.correct_answer,this.answer)?""!==this.question.correct_answer&&null!==this.question.correct_answer?this.styles.correctAnswer:this.styles.neutralAnswer:this.styles.wrongAnswer,""===this.question.correct_answer||null===this.question.correct_answer?this.helperText="Your Answer: "+this.answer.toString()+"%":this.helperText="Correct Answer: "+this.getAnswerText(this.question.correct_answer),s.a.createElement("div",null,s.a.createElement(Sa.a,{className:this.styles.paper},s.a.createElement(N.a,{container:!0,direction:"column",justify:"center",className:this.styles.gridContainer},s.a.createElement(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",spacing:16,className:this.styles.titleContainer},s.a.createElement(N.a,{item:!0,xs:!0},s.a.createElement("div",{className:this.styles.titleWrap}," ",this.question.question_title," ")),s.a.createElement(N.a,{item:!0,xs:4},s.a.createElement(N.a,{container:!0,justify:"flex-end",direction:"row",className:this.styles.percentContainer},s.a.createElement(De.a,{className:this.styles.card},s.a.createElement(F.a,{align:"center",className:this.styles.whiteTypography},this.answer.toString()+" ","%"))))),s.a.createElement(N.a,{container:!0,direction:"column",className:this.styles.gridItem},s.a.createElement(N.a,{container:!0,direction:"column",justify:"space-evenly",className:e},s.a.createElement(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:24},s.a.createElement(N.a,{item:!0,xs:!0},s.a.createElement(N.a,{container:!0,justify:"center"},s.a.createElement("div",{className:this.styles.labels},this.question.lower_label))),s.a.createElement(N.a,{item:!0,xs:6},s.a.createElement(js.a,{disabled:!0,value:this.answer,min:0,max:100,step:1,"aria-labelledby":"label"})),s.a.createElement(N.a,{item:!0,xs:!0},s.a.createElement(N.a,{container:!0,justify:"center"},s.a.createElement("div",{className:this.styles.labels},this.question.upper_label)))),s.a.createElement(N.a,{container:!0,direction:"row"},s.a.createElement(it.a,{id:"correctAnswer",helperText:this.helperText,fullWidth:!0,disabled:!0})))))))}}]),t}(n.Component))||mi)||mi,Oi=Object(y.withStyles)(function(e){return{gridContainer:{margin:e.spacing.unit},labels:{wordBreak:"break-word",fontFamily:"sans-serif",fontSize:"1em",display:"flex",justifyContent:"center",color:"#424242"},titleContainer:{paddingBottom:.25*e.spacing.unit},percentContainer:{paddingRight:3*e.spacing.unit},titleWrap:{wordBreak:"break-word",fontFamily:"sans-serif",fontSize:"1.5em",display:"flex",color:e.palette.secondary.main},card:{backgroundColor:"gray",padding:.25*e.spacing.unit,width:45},gridItem:{width:"98%"},paper:{padding:e.spacing.unit},correctAnswer:{backgroundColor:e.palette.primary.light,paddingTop:2*e.spacing.unit},wrongAnswer:{backgroundColor:e.palette.primary.dark,paddingTop:2*e.spacing.unit},neutralAnswer:{paddingTop:2*e.spacing.unit},textField:{fontSize:50}}})(_i),Ci=Object(g.b)("store")(fi=Object(g.c)(fi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={show_previous_questions:!1,show_last_question:!0,dots:""},a.handleClick=function(){var e=a.props.location.state.course_id;a.state.show_previous_questions?a.setState({show_previous_questions:!1,show_last_question:!0}):(a.apiStudentService.loadAllPrevQuestions(e),a.setState({show_previous_questions:!0,show_last_question:!1}))},a.styles=e.classes,a.store=a.props.store,a.apiStudentService=new Ps(a.store),a.socketIOStudentService=new $s(a.store),a.timeout=null,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socketIOStudentService.reset();var t=this.props.location.state.course_id;this.socketIOStudentService.subscribe(t),this.socketIOStudentService.detectOpenQuestion(),this.socketIOStudentService.detectCloseQuestion(),this.socketIOStudentService.getAllQuestions(),this.socketIOStudentService.listen(),this.socketIOStudentService.startCheckingConnection(),this.timeout=setInterval(function(){var t=e.state.dots;"..."===t?t="":t+=".",e.setState({dots:t})},1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),this.socketIOStudentService.stopCheckingConnection()}},{key:"render",value:function(){var e=this;return s.a.createElement(N.a,{container:!0,direction:"column",spacing:Number("16")},s.a.createElement(Us,null),s.a.createElement(N.a,{className:this.styles.gridContainer},s.a.createElement(Sa.a,{className:this.styles.paper,style:{backgroundColor:"secondary"}},s.a.createElement(F.a,{variant:"h5",color:"secondary"}," ",this.store.socketIOStatus?(0!==this.store.getNumberOfQuestions()?"Open Questions":"No Open Questions")+this.state.dots:"Connection lost!"," "),0!==this.store.getNumberOfQuestions()?s.a.createElement(N.a,null,this.store.questions.map(function(t){return"free_text"===t.question_type?s.a.createElement(N.a,{item:!0,className:e.styles.gridItem,key:t.id},s.a.createElement(si,{questionId:t.id})):"slider"===t.question_type?s.a.createElement(N.a,{item:!0,className:e.styles.gridItem,key:t.id},s.a.createElement(yi,{questionId:t.id})):s.a.createElement(N.a,{item:!0,className:e.styles.gridItem,key:t.id},s.a.createElement(ci,{questionId:t.id}))})):null)),s.a.createElement(N.a,{className:this.styles.gridContainer},s.a.createElement(Sa.a,{className:this.styles.paper},s.a.createElement(F.a,{variant:"h5",color:"secondary"}," ",this.state.show_last_question&&null!==this.store.lastQuestion?"Recently Closed":"Previous Questions"," "),this.state.show_last_question?s.a.createElement(N.a,{className:this.styles.gridContainer},null!==this.store.lastQuestion?"multiple_choice"===this.store.lastQuestion.question_type?s.a.createElement(Ei,{isLast:!0}):"free_text"===this.store.lastQuestion.question_type?s.a.createElement(Si,{isLast:!0}):s.a.createElement(Oi,{isLast:!0}):null):null,s.a.createElement(N.a,{className:this.styles.gridContainer},s.a.createElement(Le.a,{onClick:this.handleClick,variant:"outlined",color:"secondary"},this.state.show_previous_questions?"Hide Previous Questions":"Show All Previous Questions")),s.a.createElement(N.a,null,this.state.show_previous_questions?this.store.prevQuestions.length>0?this.store.prevQuestions.map(function(t){return"free_text"===t.question_type?s.a.createElement(N.a,{item:!0,className:e.styles.gridItem,key:t.id},s.a.createElement(Si,{questionId:t.id})):"multiple_choice"===t.question_type?s.a.createElement(N.a,{item:!0,className:e.styles.gridItem,key:t.id},s.a.createElement(Ei,{questionId:t.id})):s.a.createElement(N.a,{item:!0,className:e.styles.gridItem,key:t.id},s.a.createElement(Oi,{questionId:t.id}))}):s.a.createElement(F.a,{color:"secondary"}," There are no previous questions "):null))))}}]),t}(n.Component))||fi)||fi,ji=Object(y.withStyles)(function(e){return{gridContainer:{padding:e.spacing.unit},gridItem:{padding:e.spacing.unit},paper:{padding:e.spacing.unit}}})(Ci),ki=Object(g.b)("store")(bi=Object(g.c)(bi=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={course_id:""},a.store=a.props.store,a.apiStudentService=new Ps(a.store),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state.course_id;this.apiStudentService.loadAllQuestions(e),this.setState({course_id:this.props.location.state})}},{key:"render",value:function(){return 0!==this.store.questions.length?s.a.createElement(N.a,{container:!0,direction:"column",spacing:Number("16")},s.a.createElement(Us,null),s.a.createElement(N.a,{container:!0,direction:"column",justify:"center"},s.a.createElement(Sa.a,{style:{padding:"2%"}},s.a.createElement(Le.a,{size:"large",variant:"contained",color:"secondary",width:"100%"},s.a.createElement(Vs.a,{to:{pathname:"/student/questions",state:{course_id:this.state.course_id}},style:{color:"white","text-decoration":"none"}}," Open Questions "))))):s.a.createElement(N.a,{container:!0,direction:"column",spacing:Number("16")},s.a.createElement(Us,null),s.a.createElement(N.a,{item:!0},s.a.createElement(Sa.a,{style:{paddingTop:"1%",paddingBottom:"1%"}},s.a.createElement(F.a,{variant:"h5",color:"secondary",style:{width:"98%",paddingLeft:"1%",paddingRight:"1%"}}," There are no questions for this course at the moment... "))))}}]),t}(n.Component))||bi)||bi,Ii=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).styles=e.classes,a.store=new As,a.apiStudentService=new Ps(a.store),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.apiStudentService.loadAllCourses()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(g.a,{store:this.store},s.a.createElement(m.a,null,s.a.createElement(f.a,{exact:!0,path:"/student",component:Js}),s.a.createElement(f.a,{path:"/student/checkquestions",component:ki}),s.a.createElement(f.a,{path:"/student/questions",component:ji}),s.a.createElement(f.a,{component:Ns}))))}}]),t}(s.a.Component),qi=Object(y.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},content:{marginLeft:240,flexGrow:1,padding:3*e.spacing.unit}}})(Ii),xi=(a(5875),a(200)),Qi=a.n(xi),Li=a(291),Ni=a.n(Li),Di=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={toStudent:!1,toProf:!1},a.handleLoginProf=function(){a.setState({toProf:!0})},a.handleLoginStudent=function(){a.setState({toStudent:!0})},a.styles=e.classes,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.toProf?s.a.createElement(se.a,{to:"/login-prof",push:!0}):this.state.toStudent?s.a.createElement(se.a,{to:"/login-student",push:!0}):s.a.createElement("div",{className:this.styles.root},s.a.createElement(N.a,{container:!0,spacing:24,justify:"center"},s.a.createElement(N.a,{item:!0,className:this.styles.clickGrid},s.a.createElement(De.a,{className:this.styles.studentcard},s.a.createElement(Qi.a,{onClick:this.handleLoginStudent},s.a.createElement(Ae.a,null,s.a.createElement(N.a,{item:!0,container:!0,direction:"column",spacing:16},s.a.createElement(N.a,{item:!0,align:"center"},s.a.createElement("img",{src:Rs.a,alt:"logo",width:100})),s.a.createElement(N.a,{item:!0,align:"center"},s.a.createElement(F.a,{variant:"h2",gutterBottom:!0,className:this.styles.studentTypography},"STUDENT LOGIN"))))))),s.a.createElement(N.a,{item:!0,className:this.styles.clickGrid},s.a.createElement(De.a,{className:this.styles.profcard},s.a.createElement(Qi.a,{onClick:this.handleLoginProf},s.a.createElement(Ae.a,null,s.a.createElement(N.a,{item:!0,container:!0,direction:"column",spacing:16},s.a.createElement(N.a,{item:!0,align:"center"},s.a.createElement("img",{src:P.a,alt:"logo",width:100})),s.a.createElement(N.a,{item:!0,align:"center"},s.a.createElement(F.a,{variant:"h2",gutterBottom:!0,className:this.styles.profTypography},"TEACHER LOGIN")))))))),s.a.createElement(X.a,{position:"fixed",color:"primary",className:this.styles.appBar},s.a.createElement(N.a,{container:!0,direction:"row",justify:"center"},s.a.createElement(F.a,{color:"inherit"},"Created by mecakir, zsyang, afeng, lheimes, and czye."))))}}]),t}(n.Component),Ti=Object(y.withStyles)(function(e){var t,a;return{studentTypography:{color:e.palette.secondary.main},profTypography:{color:e.palette.primary.main},root:{flexGrow:1,height:"100vh",width:"100vw",backgroundImage:"url("+Ni.a+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center"},appBar:{top:"auto",bottom:0},studentcard:(t={backgroundColor:e.palette.primary.main},Object(b.a)(t,e.breakpoints.up("xs"),{maxWidth:400}),Object(b.a)(t,e.breakpoints.down("xs"),{maxWidth:300}),t),profcard:(a={backgroundColor:e.palette.secondary.main},Object(b.a)(a,e.breakpoints.up("xs"),{maxWidth:400}),Object(b.a)(a,e.breakpoints.down("xs"),{maxWidth:300}),Object(b.a)(a,"marginBottom",16),a)}})(Di),Ai=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e="student/login?service=",t="/student",a=14;window.location.href.split("login-")[1].valueOf()==="prof".valueOf()&&(e="professor/login?service=",t="/professor",a=11),window.location.replace(be+e+window.location.href.substring(0,window.location.href.length-a)+t)}},{key:"render",value:function(){return s.a.createElement("div",null,"Logging In")}}]),t}(n.Component),Pi=Object(y.createMuiTheme)({palette:{primary:{main:"#E9C46A",dark:"#F4A261",light:"#2A9D8F"},secondary:{main:"#264653"},accent:{main:"#E76F51"},type:"light"},typography:{useNextVariants:!0}}),Vi=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(y.MuiThemeProvider,{theme:Pi},s.a.createElement(h.a,null,s.a.createElement("div",null,s.a.createElement(m.a,null,s.a.createElement(f.a,{exact:!0,path:"/",component:Ti}),s.a.createElement(f.a,{exact:!0,path:"/login-(prof|student)",component:Ai}),s.a.createElement(f.a,{path:"/professor",component:Ts}),s.a.createElement(f.a,{path:"/student",component:qi}),s.a.createElement(f.a,{component:Ns})))))}}]),t}(n.Component);Object(Ie.e)({enforceActions:"observed"}),r.a.render(s.a.createElement(Vi,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5498,2,1]]]);
//# sourceMappingURL=main.bc3121f8.chunk.js.map